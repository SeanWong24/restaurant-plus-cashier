(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{L6id:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class i{}var u=e("pMnS"),o=e("MKJQ"),s=e("sZkV");class r{transform(l){switch(l){case"Free":return"secondary";case"Using":return"success";case"Reserved":return"tertiary";case"Dirty":return"warning";case"Unavailable":return"danger";case"Togo":return"medium"}}}class a{transform(l,n){switch(l){case"Free":switch(n){case 0:return"Disable";case 1:return"Reserve";case 2:return"Open";default:return""}case"Using":switch(n){case 0:return"Confirm";case 1:return"Transfer";case 2:return"Close";default:return""}case"Reserved":switch(n){case 0:return"Confirm";case 1:return"Free";case 2:return"Open";default:return""}case"Dirty":switch(n){case 0:return"Disable";case 1:return"Free";default:return""}case"Unavailable":switch(n){case 1:return"Free";default:return""}}}}var c=e("SVse"),d=e("mrSG");let b=(()=>{class l{constructor(){this.occupied=0,this.status=l.Status.Unavailable}}return l.Status={Free:"Free",Using:"Using",Reserved:"Reserved",Dirty:"Dirty",Unavailable:"Unavailable",Togo:"Togo"},l})();class h{constructor(l){this.alertController=l,this.selectedTableChange=new t.m,this.fetchTableList=()=>d.a(this,void 0,void 0,(function*(){const l=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table"),n=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/togo");this.tableList=(yield l.json()).concat(yield n.json()),this.selectedTable&&(this.selectedTable=this.tableList.find(l=>l.name==this.selectedTable.name))}))}get selectedTable(){return this._selectedTable}set selectedTable(l){this._selectedTable=l,this.selectedTableChange.emit(l)}ngOnInit(){this.fetchTableList()}ionViewDidEnter(){this.fetchTableList()}selectTable(l){this.selectedTable=l}addTogo(){return d.a(this,void 0,void 0,(function*(){const l=yield this.alertController.create({header:"Transfer to:",inputs:[{type:"radio",label:"Pick-up",value:"p"},{type:"radio",label:"Delivery",value:"d"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:l=>d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/add/togo?togoType="+l,{method:"POST",credentials:"include"}),this.fetchTableList()}))}]});yield l.present()}))}}var m=t.mb({encapsulation:0,styles:[["ion-col[_ngcontent-%COMP%]{height:100px}ion-button[_ngcontent-%COMP%]{width:100%;height:100%}"]],data:{}});function g(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,5,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(1,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(2,0,null,0,3,"ion-button",[["class","large-button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.selectTable(l.context.$implicit)&&t),t}),o.D,o.c)),t.nb(3,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],fill:[1,"fill"]},null),t.Db(4,1),(l()(),t.Hb(5,0,["",""]))],(function(l,n){var e=n.component;l(n,1,0,"4");var i=t.Ib(n,3,0,l(n,4,0,t.Ab(n.parent,0),n.context.$implicit.status));l(n,3,0,i,e.selectedTable===n.context.$implicit?"outline":"solid")}),(function(l,n){l(n,5,0,n.context.$implicit.name)}))}function f(l){return t.Jb(0,[t.Cb(0,r,[]),(l()(),t.ob(1,0,null,null,10,"ion-grid",[],null,null,null,o.N,o.m)),t.nb(2,49152,null,0,s.A,[t.h,t.k,t.x],null,null),(l()(),t.ob(3,0,null,0,8,"ion-row",[],null,null,null,o.W,o.v)),t.nb(4,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.db(16777216,null,0,1,null,g)),t.nb(6,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ob(7,0,null,0,4,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(8,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(9,0,null,0,2,"ion-button",[["class","large-button"],["color","dark"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addTogo()&&t),t}),o.D,o.c)),t.nb(10,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(-1,0,["New To-Go"]))],(function(l,n){l(n,6,0,n.component.tableList),l(n,8,0,"4"),l(n,10,0,"dark")}),null)}var p=e("s7LF");class y{constructor(l){this.alertController=l}ngOnInit(){this.startTableTimer()}operate(l,n){switch(+l){case 0:this.operate0(+n);break;case 1:this.operate1(+n);break;case 2:this.operate2(+n)}}startTableTimer(){this.tableTimer&&clearInterval(this.tableTimer),this.tableTimer=setInterval(()=>{if(this.selectedTable&&this.selectedTable.startTime){const l=new Date(this.selectedTable.startTime),n=(new Date).getTime()-l.getTime(),e=new Date(n),t=Math.floor(n/1e3/60/1440);this.tableDuration=t+"d"+("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)+":"+("0"+e.getUTCSeconds()).slice(-2)}else this.tableDuration=""},1e3)}operate0(l){return d.a(this,void 0,void 0,(function*(){switch(this.selectedTable.status){case"Free":case"Dirty":yield this.disable();break;case"Using":case"Reserved":yield this.modify(l)}this.tableListRefreshHandler()}))}operate1(l){return d.a(this,void 0,void 0,(function*(){switch(this.selectedTable.status){case"Free":yield this.reserve(l);break;case"Using":yield this.transfer();break;case"Reserved":case"Dirty":case"Unavailable":yield this.free()}this.tableListRefreshHandler()}))}operate2(l){return d.a(this,void 0,void 0,(function*(){switch(this.selectedTable.status){case"Free":case"Reserved":yield this.open(l);break;case"Using":yield this.close()}this.tableListRefreshHandler()}))}open(l){return d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table/open?id="+this.selectedTable.id+"&occupied="+(+l?l:1),{method:"PUT",credentials:"include"})}))}reserve(l){return d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table/reserve?id="+this.selectedTable.id+"&occupied="+l,{method:"PUT",credentials:"include"})}))}disable(){return d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table/disable?id="+this.selectedTable.id,{method:"PUT",credentials:"include"})}))}free(){return d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table/free?id="+this.selectedTable.id,{method:"PUT",credentials:"include"})}))}transfer(){return d.a(this,void 0,void 0,(function*(){const l=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table?status=Free"),n=yield l.json();if(n){const l=[];for(const t of n)l.push({name:t.name,type:"radio",label:t.name,value:t.id});const e=yield this.alertController.create({header:"Transfer to:",inputs:l,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:l=>d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table/transfer?id="+this.selectedTable.id+"&transferId="+l,{method:"PUT",credentials:"include"}),this.tableListRefreshHandler()}))}]});yield e.present()}}))}modify(l){return d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table/modify-occupied?id="+this.selectedTable.id+"&occupied="+l,{method:"PUT",credentials:"include"})}))}close(){return d.a(this,void 0,void 0,(function*(){const l=yield this.alertController.create({header:"Close "+this.selectedTable.name,message:"Are you sure to close "+this.selectedTable.name+"?",buttons:["Cancel",{text:"Confirm",handler:()=>d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table/close?id="+this.selectedTable.id,{method:"PUT",credentials:"include"}),this.tableListRefreshHandler()}))}]});yield l.present()}))}}var v=t.mb({encapsulation:0,styles:[[""]],data:{}});function k(l){return t.Jb(0,[t.Cb(0,r,[]),t.Cb(0,a,[]),(l()(),t.ob(2,0,null,null,13,"ion-card-header",[],null,null,null,o.G,o.g)),t.nb(3,49152,null,0,s.o,[t.h,t.k,t.x],null,null),(l()(),t.ob(4,0,null,0,11,"ion-card-title",[],null,null,null,o.I,o.i)),t.nb(5,49152,null,0,s.q,[t.h,t.k,t.x],null,null),(l()(),t.ob(6,0,null,0,2,"ion-label",[],null,null,null,o.T,o.s)),t.nb(7,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(8,0,["",""])),(l()(),t.ob(9,0,null,0,2,"ion-label",[["color","secondary"],["style","margin-left: 0.8em; font-size: 1em;"]],null,null,null,o.T,o.s)),t.nb(10,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(11,0,["",""])),(l()(),t.ob(12,0,null,0,3,"ion-label",[["style","float: right; font-size: 1.2em;"]],null,null,null,o.T,o.s)),t.nb(13,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),t.Db(14,1),(l()(),t.Hb(15,0,["",""])),(l()(),t.ob(16,0,null,null,35,"ion-card-content",[["style","height: calc(100% - 56px);"]],null,null,null,o.F,o.f)),t.nb(17,49152,null,0,s.n,[t.h,t.k,t.x],null,null),(l()(),t.ob(18,0,null,0,33,"ion-row",[["style","height: 100%"]],null,null,null,o.W,o.v)),t.nb(19,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(20,0,null,0,13,"ion-col",[["size","12"]],null,null,null,o.L,o.k)),t.nb(21,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(22,0,null,0,11,"ion-item",[],null,null,null,o.S,o.r)),t.nb(23,49152,null,0,s.H,[t.h,t.k,t.x],{disabled:[0,"disabled"]},null),(l()(),t.ob(24,0,null,0,2,"ion-label",[["position","fixed"]],null,null,null,o.T,o.s)),t.nb(25,49152,null,0,s.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Hb(-1,0,["Customers"])),(l()(),t.ob(27,0,null,0,3,"ion-input",[["type","number"]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var i=!0;return"ionBlur"===n&&(i=!1!==t.Ab(l,30)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Ab(l,30)._handleIonChange(e.target)&&i),i}),o.R,o.q)),t.Eb(5120,null,p.d,(function(l){return[l]}),[s.Gb]),t.nb(29,49152,[["occupiedInput",4]],0,s.G,[t.h,t.k,t.x],{type:[0,"type"],value:[1,"value"]},null),t.nb(30,16384,null,0,s.Gb,[t.k],null,null),(l()(),t.ob(31,0,null,0,2,"ion-label",[["slot","end"]],null,null,null,o.T,o.s)),t.nb(32,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(33,0,["of ",""])),(l()(),t.ob(34,0,null,0,5,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(35,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(36,0,null,0,3,"ion-button",[["class","large-button"],["color","light"]],null,[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.operate(0,t.Ab(l,29).value)&&i),i}),o.D,o.c)),t.nb(37,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(38,0,[" ",""])),t.Db(39,2),(l()(),t.ob(40,0,null,0,5,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(41,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(42,0,null,0,3,"ion-button",[["class","large-button"],["color","light"]],null,[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.operate(1,t.Ab(l,29).value)&&i),i}),o.D,o.c)),t.nb(43,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(44,0,[" ",""])),t.Db(45,2),(l()(),t.ob(46,0,null,0,5,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(47,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(48,0,null,0,3,"ion-button",[["class","large-button"],["color","light"]],null,[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==l.component.operate(2,t.Ab(l,29).value)&&i),i}),o.D,o.c)),t.nb(49,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(50,0,[" ",""])),t.Db(51,2)],(function(l,n){var e=n.component;l(n,10,0,"secondary");var i=t.Ib(n,13,0,l(n,14,0,t.Ab(n,0),e.selectedTable?e.selectedTable.status:""));l(n,13,0,i),l(n,21,0,"12"),l(n,23,0,!e.selectedTable||"Free"!==e.selectedTable.status&&"Using"!==e.selectedTable.status&&"Reserved"!==e.selectedTable.status),l(n,25,0,"fixed"),l(n,29,0,"number",e.selectedTable?e.selectedTable.occupied:1),l(n,35,0,"4"),l(n,37,0,"light"),l(n,41,0,"4"),l(n,43,0,"light"),l(n,47,0,"4"),l(n,49,0,"light")}),(function(l,n){var e=n.component;l(n,8,0,e.selectedTable?e.selectedTable.name:"No Selected Table"),l(n,11,0,e.tableDuration),l(n,15,0,e.selectedTable?e.selectedTable.status:""),l(n,33,0,e.selectedTable?e.selectedTable.capacity:0);var i=t.Ib(n,38,0,l(n,39,0,t.Ab(n,1),e.selectedTable?e.selectedTable.status:"",0));l(n,38,0,i);var u=t.Ib(n,44,0,l(n,45,0,t.Ab(n,1),e.selectedTable?e.selectedTable.status:"",1));l(n,44,0,u);var o=t.Ib(n,50,0,l(n,51,0,t.Ab(n,1),e.selectedTable?e.selectedTable.status:"",2));l(n,50,0,o)}))}class x{constructor(l,n,e){this.billItem=l,this.menuItem=n,this.discountList=e,this.isSelected=!1}get itemName(){return this.menuItem.name}get unitPrice(){return this.menuItem.unitPrice}get quantity(){return this.billItem.quantity}get totalPrice(){return(this.menuItem.unitPrice*this.billItem.quantity).toFixed(2)}get discount(){return this.discountList}}let I=(()=>{class l{constructor(){this.status=l.Status.Open,this.discountIdDict={}}}return l.Status={Open:"Open",Closed:"Closed"},l})();class T{constructor(){this.displayedBillItemList=[],this.currentBillChange=new t.m,this.refreshBillItems=()=>d.a(this,void 0,void 0,(function*(){if(this.selectedTable&&(this.currentBill=yield this.fetchBill(this.selectedTable.id),this.currentBill)){const l=yield this.fetchMenuItemList(),n=yield this.fetchBillItemList(this.currentBill.id,"False");return this.displayedBillItemList=yield this.generateDisplayList(n,l),void this.refreshBillSummaryHandler(this.displayedBillItemList)}this.displayedBillItemList=[]}))}get currentBill(){return this._currentBill}set currentBill(l){this._currentBill=l,this.currentBillChange.emit(l)}get selectedTable(){return this._selectedTable}set selectedTable(l){this._selectedTable=l,this.selectedTableChangedHandler()}ngOnInit(){}checkBoxValueChangeHandler(){const l=this.displayedBillItemList.filter(l=>l.isSelected);this.refreshBillSummaryHandler(l.length>0?l:this.displayedBillItemList)}selectedTableChangedHandler(){this.refreshBillItems()}fetchMenuItemList(){return d.a(this,void 0,void 0,(function*(){const l=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/menu/item");return yield l.json()}))}fetchBill(l){return d.a(this,void 0,void 0,(function*(){let n=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill?tableId="+l+"&status="+I.Status.Open,{method:"GET",credentials:"include"});return(yield n.json())[0]}))}fetchBillItemList(l,n){return d.a(this,void 0,void 0,(function*(){const e=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item?billId="+l+"&hasPaid="+n,{method:"GET",credentials:"include"});return yield e.json()}))}fetchDiscountList(l){return d.a(this,void 0,void 0,(function*(){const n=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/discount",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});return yield n.json()}))}generateDisplayList(l,n){return d.a(this,void 0,void 0,(function*(){const e=[];for(const i of l){const l=n.find(l=>l.id===i.menuItemId);if(i.discountIdList.length>0)var t=yield this.fetchDiscountList(i.discountIdList);else t=[];e.push(new x(i,l,t))}return e}))}}var C=t.mb({encapsulation:0,styles:[["ion-list[_ngcontent-%COMP%]{min-height:100%}"]],data:{}});function B(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,4,"ion-note",[],null,null,null,o.V,o.u)),t.nb(1,49152,null,0,s.V,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,2,"ion-label",[],null,null,null,o.T,o.s)),t.nb(3,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(4,0,[" "," "]))],null,(function(l,n){l(n,4,0,n.context.$implicit.name)}))}function L(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,5,"ion-row",[],null,null,null,o.W,o.v)),t.nb(1,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,3,"ion-list",[],null,null,null,o.U,o.t)),t.nb(3,49152,null,0,s.O,[t.h,t.k,t.x],null,null),(l()(),t.db(16777216,null,0,1,null,B)),t.nb(5,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.parent.context.$implicit.discountList)}),null)}function A(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,34,"ion-item",[],null,null,null,o.S,o.r)),t.nb(1,49152,null,0,s.H,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,6,"ion-checkbox",[["slot","start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(l,n,e){var i=!0,u=l.component;return"ionBlur"===n&&(i=!1!==t.Ab(l,3)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Ab(l,3)._handleIonChange(e.target)&&i),"ngModelChange"===n&&(i=!1!==(l.context.$implicit.isSelected=e)&&i),"ionChange"===n&&(i=!1!==u.checkBoxValueChangeHandler()&&i),i}),o.K,o.j)),t.nb(3,16384,null,0,s.c,[t.k],null,null),t.Eb(1024,null,p.d,(function(l){return[l]}),[s.c]),t.nb(5,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(7,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(8,49152,null,0,s.r,[t.h,t.k,t.x],null,null),(l()(),t.ob(9,0,null,0,25,"ion-grid",[["style","width: 100%;"]],null,null,null,o.N,o.m)),t.nb(10,49152,null,0,s.A,[t.h,t.k,t.x],null,null),(l()(),t.ob(11,0,null,0,21,"ion-row",[["style","width: 100%;"]],null,null,null,o.W,o.v)),t.nb(12,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(13,0,null,0,4,"ion-col",[["size","6"]],null,null,null,o.L,o.k)),t.nb(14,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(15,0,null,0,2,"ion-label",[],null,null,null,o.T,o.s)),t.nb(16,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(17,0,["",""])),(l()(),t.ob(18,0,null,0,4,"ion-col",[["size","2"]],null,null,null,o.L,o.k)),t.nb(19,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(20,0,null,0,2,"ion-label",[],null,null,null,o.T,o.s)),t.nb(21,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(22,0,["$",""])),(l()(),t.ob(23,0,null,0,4,"ion-col",[["size","2"]],null,null,null,o.L,o.k)),t.nb(24,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(25,0,null,0,2,"ion-label",[],null,null,null,o.T,o.s)),t.nb(26,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(27,0,["* ",""])),(l()(),t.ob(28,0,null,0,4,"ion-col",[["size","2"]],null,null,null,o.L,o.k)),t.nb(29,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(30,0,null,0,2,"ion-label",[],null,null,null,o.T,o.s)),t.nb(31,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(32,0,["$",""])),(l()(),t.db(16777216,null,0,1,null,L)),t.nb(34,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.context.$implicit.isSelected),l(n,14,0,"6"),l(n,19,0,"2"),l(n,24,0,"2"),l(n,29,0,"2"),l(n,34,0,(null==n.context.$implicit.discountList?null:n.context.$implicit.discountList.length)>0)}),(function(l,n){l(n,2,0,t.Ab(n,7).ngClassUntouched,t.Ab(n,7).ngClassTouched,t.Ab(n,7).ngClassPristine,t.Ab(n,7).ngClassDirty,t.Ab(n,7).ngClassValid,t.Ab(n,7).ngClassInvalid,t.Ab(n,7).ngClassPending),l(n,17,0,n.context.$implicit.itemName),l(n,22,0,n.context.$implicit.unitPrice),l(n,27,0,n.context.$implicit.quantity),l(n,32,0,n.context.$implicit.totalPrice)}))}function P(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,5,"ion-content",[],null,null,null,o.M,o.l)),t.nb(1,49152,null,0,s.u,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,3,"ion-list",[],null,null,null,o.U,o.t)),t.nb(3,49152,null,0,s.O,[t.h,t.k,t.x],null,null),(l()(),t.db(16777216,null,0,1,null,A)),t.nb(5,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.component.displayedBillItemList)}),null)}class S{constructor(){this.billItemCount=0,this.billPriceBeforeTaxes=0,this.billGst=0,this.billPst=0,this.billLct=0,this.billPriceAfterTaxes=0,this.refresh=l=>d.a(this,void 0,void 0,(function*(){this.billItemCount=l.filter(l=>l.isSelected).length,this.billPriceBeforeTaxes=this.calculateBillPriceBeforeTaxes(l),this.billGst=this.calculateBillTax(l,"gst"),this.billPst=this.calculateBillTax(l,"pst"),this.billLct=this.calculateBillTax(l,"lct"),this.billPriceAfterTaxes=this.billPriceBeforeTaxes+this.billGst+this.billPst+this.billLct}))}ngOnInit(){}calculateBillPriceBeforeTaxes(l){let n=0;return l.forEach(l=>{n+=l.unitPrice*l.quantity}),n}calculateBillTax(l,n){let e=0;return l.forEach(l=>{e+=l.unitPrice*l.menuItem[n+"Rate"]*l.quantity}),e}}var H=t.mb({encapsulation:0,styles:[[""]],data:{}});function D(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,9,"ion-card-header",[],null,null,null,o.G,o.g)),t.nb(1,49152,null,0,s.o,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,7,"ion-card-subtitle",[],null,null,null,o.H,o.h)),t.nb(3,49152,null,0,s.p,[t.h,t.k,t.x],null,null),(l()(),t.ob(4,0,null,0,2,"ion-label",[["color","success"]],null,null,null,o.T,o.s)),t.nb(5,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(6,0,["",""])),(l()(),t.ob(7,0,null,0,2,"ion-label",[["style","margin-left: 1em;"]],null,null,null,o.T,o.s)),t.nb(8,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["items selected"])),(l()(),t.ob(10,0,null,null,47,"ion-card-content",[["style","height: calc(100% - 56px);"]],null,null,null,o.F,o.f)),t.nb(11,49152,null,0,s.n,[t.h,t.k,t.x],null,null),(l()(),t.ob(12,0,null,0,45,"ion-grid",[],null,null,null,o.N,o.m)),t.nb(13,49152,null,0,s.A,[t.h,t.k,t.x],null,null),(l()(),t.ob(14,0,null,0,35,"ion-row",[["style","height: 70%"]],null,null,null,o.W,o.v)),t.nb(15,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(16,0,null,0,7,"ion-col",[["size","8"]],null,null,null,o.L,o.k)),t.nb(17,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(18,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1.3em;"]],null,null,null,o.T,o.s)),t.nb(19,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Price:"])),(l()(),t.ob(21,0,null,0,2,"ion-label",[["color","dark"],["style","font-size: 1.6em;"]],null,null,null,o.T,o.s)),t.nb(22,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(23,0,["$",""])),(l()(),t.ob(24,0,null,0,25,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(25,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(26,0,null,0,7,"ion-row",[],null,null,null,o.W,o.v)),t.nb(27,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(28,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1em;"]],null,null,null,o.T,o.s)),t.nb(29,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["GST:"])),(l()(),t.ob(31,0,null,0,2,"ion-label",[["color","dark"],["style","font-size: 1.2em;"]],null,null,null,o.T,o.s)),t.nb(32,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(33,0,["$",""])),(l()(),t.ob(34,0,null,0,7,"ion-row",[],null,null,null,o.W,o.v)),t.nb(35,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(36,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1em;"]],null,null,null,o.T,o.s)),t.nb(37,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["PST:"])),(l()(),t.ob(39,0,null,0,2,"ion-label",[["color","dark"],["style","font-size: 1.2em;"]],null,null,null,o.T,o.s)),t.nb(40,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(41,0,["$",""])),(l()(),t.ob(42,0,null,0,7,"ion-row",[],null,null,null,o.W,o.v)),t.nb(43,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(44,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1em;"]],null,null,null,o.T,o.s)),t.nb(45,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["LCT:"])),(l()(),t.ob(47,0,null,0,2,"ion-label",[["color","dark"],["style","font-size: 1.2em;"]],null,null,null,o.T,o.s)),t.nb(48,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(49,0,["$",""])),(l()(),t.ob(50,0,null,0,7,"ion-row",[["style","height: 30%"]],null,null,null,o.W,o.v)),t.nb(51,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(52,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1.4em;"]],null,null,null,o.T,o.s)),t.nb(53,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Balance:"])),(l()(),t.ob(55,0,null,0,2,"ion-label",[["color","danger"],["style","font-size: 1.8em;"]],null,null,null,o.T,o.s)),t.nb(56,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(57,0,["$",""]))],(function(l,n){l(n,5,0,"success"),l(n,17,0,"8"),l(n,22,0,"dark"),l(n,25,0,"4"),l(n,32,0,"dark"),l(n,40,0,"dark"),l(n,48,0,"dark"),l(n,56,0,"danger")}),(function(l,n){var e=n.component;l(n,6,0,e.billItemCount),l(n,23,0,e.billPriceBeforeTaxes.toFixed(2)),l(n,33,0,e.billGst.toFixed(2)),l(n,41,0,e.billPst.toFixed(2)),l(n,49,0,e.billLct.toFixed(2)),l(n,57,0,e.billPriceAfterTaxes.toFixed(2))}))}let U=(()=>{class l{constructor(){this.status=l.Status.Unavailable,this.gstRate=0,this.pstRate=0,this.lctRate=0,this.imageUrl=""}}return l.Status={Available:"Available",Unavailable:"Unavailable"},l})();class z{constructor(l,n){this.modalController=l,this.navParams=n,this.categoryList=[],this.menuItemList=[],this.displayedMenuItemList=[],this.selectedMenuItemList=[]}get selectedCategory(){return this._selectedCategory}set selectedCategory(l){this._selectedCategory=l,this.displayedMenuItemList=this.menuItemList.filter(n=>n.categoryId===l.id)}ngOnInit(){this.selectedTable=this.navParams.get("selectedTable"),this.refreshBillItemsHandler=this.navParams.get("refreshBillItemsHandler")}ionViewDidEnter(){this.fetchMenuItemList(),this.fetchMenuCategoryList()}addMenuItem(l){const n=this.selectedMenuItemList.find(n=>n.id===l.id);n?n.quantity++:this.selectedMenuItemList.push({name:l.name,id:l.id,quantity:1})}removeMenuItem(l){const n=this.selectedMenuItemList.find(n=>n===l);n.quantity>1?n.quantity--:this.selectedMenuItemList.splice(this.selectedMenuItemList.findIndex(n=>n===l),1)}confirm(){return d.a(this,void 0,void 0,(function*(){if(this.selectedTable){const l=yield this.fetchBill(this.selectedTable.id);l&&(this.selectedMenuItemList.forEach(n=>d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/add?billId="+l.id+"&menuItemId="+n.id+"&quantity="+n.quantity+"&groupId=1",{method:"POST",credentials:"include"})}))),this.dismiss()),this.refreshBillItemsHandler()}}))}dismiss(){this.modalController.dismiss(null,null,"menu-item-picker-modal")}fetchMenuItemList(){return d.a(this,void 0,void 0,(function*(){const l=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/menu/item?status="+U.Status.Available);this.menuItemList=yield l.json()}))}fetchMenuCategoryList(){return d.a(this,void 0,void 0,(function*(){const l=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/menu/category");this.categoryList=yield l.json(),this.categoryList&&this.categoryList.length>0&&(this.selectedCategory=this.categoryList[0])}))}fetchBill(l){return d.a(this,void 0,void 0,(function*(){const n=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill?tableId="+l+"&status="+I.Status.Open,{method:"GET",credentials:"include"});return(yield n.json())[0]}))}}class O{constructor(l,n,e){this.modalController=l,this.navParams=n,this.alertController=e,this.selectedBillItemPrice=0,this.shouldPay=0,this.tipReceive=0,this.cashAlreadyPay=!1,this.cardAlreadyPay=!1,this.mappedBillItems=[]}get cashPay(){return this._cashPay}set cashPay(l){l>0&&(this.cashAlreadyPay=!0,this._cashPay=l,this.shouldPay=this.cardAlreadyPay?this.selectedBillItemPrice-this.cashPay-this.cardPay:this.selectedBillItemPrice-this.cashPay,this.changeGiven=-this.shouldPay)}get cardPay(){return this._cardPay}set cardPay(l){l>0&&(this.cardAlreadyPay=!0,this._cardPay=l,this.shouldPay=this.cashAlreadyPay?this.selectedBillItemPrice-this.cardPay-this.cashPay:this.selectedBillItemPrice-this.cardPay,this.tipReceive=-this.shouldPay)}get changeGiven(){return this._changeGiven}set changeGiven(l){this._changeGiven=l,this.tipReceive=-(+this.changeGiven+this.shouldPay)}ngOnInit(){this.selectedTable=this.navParams.get("selectedTable"),this.selectedBillItemIds=this.navParams.get("selectedBillItemIds"),this.currentBill=this.navParams.get("currentBill"),this.refreshBillItemsHandler=this.navParams.get("refreshBillItemsHandler"),this.tableListRefreshHandler=this.navParams.get("tableListRefreshHandler"),this.fetchDiscountHandler=this.navParams.get("fetchDiscountHandler")}ionViewDidEnter(){this.fetchBillItem()}fetchBillItem(){return d.a(this,void 0,void 0,(function*(){for(let l of this.selectedBillItemIds){const n=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item?id="+l+"&hasPaid=False",{method:"GET",credentials:"include"}),e=(yield n.json())[0];if(e){const l=e.discountIdList.length>0?yield this.fetchDiscountHandler(e.discountIdList):[],n=yield this.fetchMenuItem(e.menuItemId);this.mappedBillItems.push({name:n.name,category:n.categoryId,unitPrice:n.unitPrice,quantity:e.quantity,gst:Number(n.gstRate),pst:Number(n.pstRate),lct:Number(n.lctRate),discountList:l})}}this.currentBillDiscountList=this.currentBill.discountIdDict&&this.currentBill.discountIdDict[1].length>0?yield this.fetchDiscountHandler(this.currentBill.discountIdDict[1]):[],this.selectedBillItemPrice=yield this.calculateSelectedBillItemPrice(),this.shouldPay=this.selectedBillItemPrice}))}fetchMenuItem(l){return d.a(this,void 0,void 0,(function*(){const n=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/menu/item?id="+l);return(yield n.json())[0]}))}calculateSelectedBillItemPrice(){return d.a(this,void 0,void 0,(function*(){let l=0;if(this.mappedBillItems.forEach(n=>{if(l+=n.unitPrice*n.quantity+n.unitPrice*n.quantity*n.gst+n.unitPrice*n.quantity*n.pst+n.unitPrice*n.quantity*n.lct,n.discountList.length>0)for(const e of n.discountList)l-="amount"===e.type?e.value:n.unitPrice*n.quantity*e.value}),this.currentBillDiscountList)for(const n of this.currentBillDiscountList)l-="amount"===n.type?n.value:l*n.value;return l}))}fetchBill(l){return d.a(this,void 0,void 0,(function*(){const n=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill?tableId="+l+"&status=Open",{method:"GET",credentials:"include"});return(yield n.json())[0]}))}confirmPayment(){return d.a(this,void 0,void 0,(function*(){if(this.selectedTable){const l=yield this.fetchBill(this.selectedTable.id);if(l){const n=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/payment/pay?billId="+l.id+"&cashPayAmount="+this.cashPay+"&cardPayAmount="+this.cardPay+"&changeGiven="+this.changeGiven,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.selectedBillItemIds)});this.refreshBillItemsHandler();const e=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item?billId="+l.id+"&hasPaid=false",{method:"GET",credentials:"include"}),t=yield e.json();n&&0==Object.keys(t).length&&this.closeTableAlertConfirm(),this.dismiss()}}}))}closeTableAlertConfirm(){return d.a(this,void 0,void 0,(function*(){const l=yield this.alertController.create({header:"All items are paid.",message:"<strong>Close this table?<strong>",buttons:[{text:"NOT YET",role:"cancel",cssClass:"secondary"},{text:"YES",handler:()=>d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/table/close?id="+this.selectedTable.id,{method:"PUT",credentials:"include"}),this.tableListRefreshHandler()}))}]});yield l.present()}))}dismiss(){this.modalController.dismiss(null,null,"payment-modal")}}class w{constructor(l,n){this.modalController=l,this.alertController=n}get isSelectedTableUsing(){return this.selectedTable&&(this.selectedTable.status===b.Status.Using||this.selectedTable.status===b.Status.Togo)}get isDisplayedBillItemListEmpty(){return!this.displayedBillItemList||this.displayedBillItemList.length<=0}get isSelectedDisplayedBillItemListEmpty(){const l=this.displayedBillItemList.filter(l=>l.isSelected);return!l||l.length<=0}get isDiscountListEmpty(){const l=this.displayedBillItemList.filter(l=>l.isSelected);if(l.length>0){if(1==l.length)return l[0].billItem.discountIdList.length<=0}else if(this.currentBill&&this.currentBill.discountIdDict&&"1"in this.currentBill.discountIdDict)return this.currentBill.discountIdDict[1].length<=0;return!0}ngOnInit(){}selectAll(){this.displayedBillItemList.forEach(l=>l.isSelected=!0)}clearAll(){this.displayedBillItemList.forEach(l=>l.isSelected=!1)}addItem(){return d.a(this,void 0,void 0,(function*(){const l=yield this.modalController.create({component:z,cssClass:"large-modal",id:"menu-item-picker-modal",componentProps:{selectedTable:this.selectedTable,refreshBillItemsHandler:this.refreshBillItemsHandler}});yield l.present()}))}deleteItems(){return d.a(this,void 0,void 0,(function*(){const l=this.displayedBillItemList.filter(l=>l.isSelected),n=yield this.alertController.create({header:"Delete Items",message:"Are you sure to delete "+l.length+" selected item(s)?",buttons:["Cancel",{text:"Confirm",handler:()=>d.a(this,void 0,void 0,(function*(){const n=[];l.forEach(l=>{n.push(l.billItem.id)}),yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),this.refreshBillItemsHandler()}))}]});yield n.present()}))}combine(){return d.a(this,void 0,void 0,(function*(){const l=this.displayedBillItemList.filter(l=>l.isSelected).map(l=>l.billItem.id);yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/combine",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),this.refreshBillItemsHandler()}))}split(){return d.a(this,void 0,void 0,(function*(){const l=this.displayedBillItemList.filter(l=>l.isSelected).map(l=>l.billItem.id),n=yield this.alertController.create({header:"Split items into",inputs:[{name:"quantity",type:"number",placeholder:"Enter a number to split."}],buttons:["Cancel",{text:"Confirm",handler:n=>d.a(this,void 0,void 0,(function*(){const e=n.quantity;e&&(yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/split?quantity="+e,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),this.refreshBillItemsHandler())}))}]});yield n.present()}))}applyDiscount(){return d.a(this,void 0,void 0,(function*(){const l=yield this.fetchDicountList();if(l)if(this.isSelectedDisplayedBillItemListEmpty){const n=this.turnListToRadioButton(l),e=this.currentBill.id,t=yield this.alertController.create({header:"Add discount to: "+this.selectedTable.name,inputs:n,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:l=>d.a(this,void 0,void 0,(function*(){e&&(yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/discount?id="+e+"&discountId="+l+"&groupId=1",{method:"PUT",credentials:"include"}))&&(this.refreshBillItemsHandler(),this.messageAlert("Discount successfully applied."))}))}]});yield t.present()}else{const n=this.turnListToRadioButton(l),e=this.displayedBillItemList.filter(l=>l.isSelected).map(l=>l.billItem.id),t=yield this.alertController.create({header:"Add discount to "+e.length+(1===e.length?"item.":" items."),inputs:n,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:l=>d.a(this,void 0,void 0,(function*(){(yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/discount?discountId="+l,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}))&&(this.refreshBillItemsHandler(),this.messageAlert("Discount successfully applied."))}))}]});yield t.present()}else this.messageAlert("No discounts available now. Please contact the manager.")}))}removeDiscount(l="1"){return d.a(this,void 0,void 0,(function*(){if(this.isSelectedDisplayedBillItemListEmpty){const n=this.currentBill;if(n){const e=yield this.fetchDicountList(n.discountIdDict[l]),t=this.turnListToRadioButton(e),i=yield this.alertController.create({header:"Remove discount from: "+this.selectedTable.name,inputs:t,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Remove",handler:e=>d.a(this,void 0,void 0,(function*(){n.id&&(yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/remove/discount?id="+n.id+"&discountId="+e+"&groupId="+l,{method:"PUT",credentials:"include"}))&&(this.refreshBillItemsHandler(),this.messageAlert("Discount successfully removed."))}))}]});yield i.present()}}else{const l=this.displayedBillItemList.filter(l=>l.isSelected).map(l=>l.billItem);if(l.length>1)this.messageAlert("You can only select one item at a time :(");else{const n=yield this.fetchDicountList(l[0].discountIdList),e=this.turnListToRadioButton(n),t=yield this.alertController.create({header:"Remove discount from: "+this.selectedTable.name,inputs:e,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Remove",handler:n=>d.a(this,void 0,void 0,(function*(){l[0].id&&(yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/remove/discount?id="+l[0].id+"&discountId="+n,{method:"PUT",credentials:"include"}))&&(this.refreshBillItemsHandler(),this.messageAlert("Discount successfully removed."))}))}]});yield t.present()}}}))}pay(){return d.a(this,void 0,void 0,(function*(){const l=this.displayedBillItemList.filter(l=>l.isSelected).map(l=>l.billItem.id),n=yield this.modalController.create({component:O,cssClass:"large-modal",id:"payment-modal",componentProps:{selectedBillItemIds:l,selectedTable:this.selectedTable,currentBill:this.currentBill,refreshBillItemsHandler:this.refreshBillItemsHandler,tableListRefreshHandler:this.tableListRefreshHandler,fetchDiscountHandler:this.fetchDicountList}});yield n.present()}))}fetchDicountList(l){return d.a(this,void 0,void 0,(function*(){var n;if(l){const e=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/discount",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});n=yield e.json()}else{const l=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/discount",{method:"POST",credentials:"include"});n=yield l.json()}return n}))}turnListToRadioButton(l){const n=[];for(const e of l)n.push({name:e.name,type:"radio",label:e.name,value:e.id});return n}messageAlert(l){return d.a(this,void 0,void 0,(function*(){const n=yield this.alertController.create({header:"Alert",message:l,buttons:["OK"]});yield n.present()}))}}var E=t.mb({encapsulation:0,styles:[["ion-grid[_ngcontent-%COMP%]{height:100%}ion-row[_ngcontent-%COMP%]{height:16.67%}"]],data:{}});function M(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,70,"ion-grid",[],null,null,null,o.N,o.m)),t.nb(1,49152,null,0,s.A,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,11,"ion-row",[],null,null,null,o.W,o.v)),t.nb(3,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(4,0,null,0,4,"ion-col",[],null,null,null,o.L,o.k)),t.nb(5,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(6,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.selectAll()&&t),t}),o.D,o.c)),t.nb(7,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.Hb(-1,0,["Select All "])),(l()(),t.ob(9,0,null,0,4,"ion-col",[],null,null,null,o.L,o.k)),t.nb(10,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(11,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearAll()&&t),t}),o.D,o.c)),t.nb(12,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.Hb(-1,0,["Clear All "])),(l()(),t.ob(14,0,null,0,11,"ion-row",[],null,null,null,o.W,o.v)),t.nb(15,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(16,0,null,0,4,"ion-col",[],null,null,null,o.L,o.k)),t.nb(17,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(18,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addItem()&&t),t}),o.D,o.c)),t.nb(19,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.Hb(-1,0,["Add Item "])),(l()(),t.ob(21,0,null,0,4,"ion-col",[],null,null,null,o.L,o.k)),t.nb(22,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(23,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteItems()&&t),t}),o.D,o.c)),t.nb(24,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.Hb(-1,0,["Delete Items "])),(l()(),t.ob(26,0,null,0,11,"ion-row",[],null,null,null,o.W,o.v)),t.nb(27,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(28,0,null,0,4,"ion-col",[],null,null,null,o.L,o.k)),t.nb(29,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(30,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.combine()&&t),t}),o.D,o.c)),t.nb(31,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.Hb(-1,0,["Combine "])),(l()(),t.ob(33,0,null,0,4,"ion-col",[],null,null,null,o.L,o.k)),t.nb(34,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(35,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.split()&&t),t}),o.D,o.c)),t.nb(36,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.Hb(-1,0,["Split"])),(l()(),t.ob(38,0,null,0,11,"ion-row",[],null,null,null,o.W,o.v)),t.nb(39,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(40,0,null,0,4,"ion-col",[],null,null,null,o.L,o.k)),t.nb(41,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(42,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.applyDiscount()&&t),t}),o.D,o.c)),t.nb(43,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.Hb(-1,0,["+ Discount"])),(l()(),t.ob(45,0,null,0,4,"ion-col",[],null,null,null,o.L,o.k)),t.nb(46,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(47,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeDiscount()&&t),t}),o.D,o.c)),t.nb(48,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.Hb(-1,0,["- Discount"])),(l()(),t.ob(50,0,null,0,9,"ion-row",[],null,null,null,o.W,o.v)),t.nb(51,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(52,0,null,0,3,"ion-col",[],null,null,null,o.L,o.k)),t.nb(53,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(54,0,null,0,1,"ion-button",[["class","large-button"],["color","medium"]],null,null,null,o.D,o.c)),t.nb(55,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.ob(56,0,null,0,3,"ion-col",[],null,null,null,o.L,o.k)),t.nb(57,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(58,0,null,0,1,"ion-button",[["class","large-button"],["color","medium"]],null,null,null,o.D,o.c)),t.nb(59,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.ob(60,0,null,0,10,"ion-row",[],null,null,null,o.W,o.v)),t.nb(61,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(62,0,null,0,3,"ion-col",[],null,null,null,o.L,o.k)),t.nb(63,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(64,0,null,0,1,"ion-button",[["class","large-button"],["color","medium"]],null,null,null,o.D,o.c)),t.nb(65,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.ob(66,0,null,0,4,"ion-col",[],null,null,null,o.L,o.k)),t.nb(67,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(68,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.pay()&&t),t}),o.D,o.c)),t.nb(69,49152,null,0,s.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(l()(),t.Hb(-1,0,["Pay"]))],(function(l,n){var e=n.component;l(n,7,0,"medium",!e.isSelectedTableUsing||e.isDisplayedBillItemListEmpty),l(n,12,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty),l(n,19,0,"medium",!e.isSelectedTableUsing),l(n,24,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty),l(n,31,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty),l(n,36,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty),l(n,43,0,"medium",!e.isSelectedTableUsing),l(n,48,0,"medium",!e.isSelectedTableUsing||e.isDiscountListEmpty),l(n,55,0,"medium",!0),l(n,59,0,"medium",!0),l(n,65,0,"medium",!0),l(n,69,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty)}),null)}class N{constructor(l){this.navControlor=l,this._accessCode=""}get accessCode(){return this._accessCode}set accessCode(l){this._accessCode=l,l.length>=6&&(this.login(l),this.accessCode="")}get user(){const l=sessionStorage.getItem("user");return l?JSON.parse(l):void 0}set user(l){l?sessionStorage.setItem("user",JSON.stringify(l)):sessionStorage.removeItem("user")}get role(){const l=sessionStorage.getItem("role");return l?JSON.parse(l):void 0}set role(l){l?sessionStorage.setItem("role",JSON.stringify(l)):sessionStorage.removeItem("role")}ionViewDidEnter(){this.fetchUserAndRole()}accessCodeButtonClickHandler(l){switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":this.accessCode+=l;break;case"clear":this.accessCode="";break;case"delete":this.accessCode=this.accessCode.slice(0,-1)}}goToSettingsPage(){this.navControlor.navigateForward("/settings")}login(l){return d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/user/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"accessCode",message:l.toString()})}),yield this.fetchUserAndRole()}))}logout(){return d.a(this,void 0,void 0,(function*(){yield fetch(localStorage.getItem("serverApiBaseUrl")+"/user/logout",{method:"POST",credentials:"include"}),yield this.fetchUserAndRole()}))}fetchUserAndRole(){return d.a(this,void 0,void 0,(function*(){yield this.fetchUser(),yield this.fetchRole()}))}fetchUser(){return d.a(this,void 0,void 0,(function*(){const l=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/user/self",{method:"GET",credentials:"include"});if(200===l.status)try{return void(this.user=yield l.json())}catch(n){}this.user=void 0}))}fetchRole(){return d.a(this,void 0,void 0,(function*(){if(this.user){const n=yield fetch(localStorage.getItem("serverApiBaseUrl")+"/user/role/self",{method:"GET",credentials:"include"});if(200===n.status)try{return void(this.role=yield n.json())}catch(l){}}this.role=void 0}))}}var _=t.mb({encapsulation:0,styles:[["ion-card[_ngcontent-%COMP%]{height:100%;margin:0}"]],data:{}});function J(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,3,"ion-button",[["title","Logout"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.logout()&&t),t}),o.D,o.c)),t.nb(1,49152,null,0,s.k,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,1,"ion-icon",[["name","log-out"],["slot","icon-only"]],null,null,null,o.P,o.o)),t.nb(3,49152,null,0,s.C,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(l,n){l(n,3,0,"log-out")}),null)}function R(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,46,"div",[["style","height: 100%;"]],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,45,"ion-grid",[["style","height: 100%;"]],null,null,null,o.N,o.m)),t.nb(2,49152,null,0,s.A,[t.h,t.k,t.x],null,null),(l()(),t.ob(3,0,null,0,43,"ion-row",[["style","height: 100%;"]],null,null,null,o.W,o.v)),t.nb(4,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(5,0,null,0,17,"ion-col",[["size","4"],["style","height: 100%;"]],null,null,null,o.L,o.k)),t.nb(6,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(7,0,null,0,7,"ion-row",[["style","height: 70%;"]],null,null,null,o.W,o.v)),t.nb(8,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(9,0,null,0,5,"ion-col",[["style","height: 100%;"]],null,null,null,o.L,o.k)),t.nb(10,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(11,0,null,0,3,"ion-card",[],null,null,null,o.J,o.e)),t.nb(12,49152,null,0,s.m,[t.h,t.k,t.x],null,null),(l()(),t.ob(13,0,null,0,1,"app-table-list",[],null,[[null,"selectedTableChange"]],(function(l,n,e){var t=!0;return"selectedTableChange"===n&&(t=!1!==(l.component.selectedTable=e)&&t),t}),f,m)),t.nb(14,114688,[["tableListComponenet",4]],0,h,[s.a],{selectedTable:[0,"selectedTable"]},{selectedTableChange:"selectedTableChange"}),(l()(),t.ob(15,0,null,0,7,"ion-row",[["style","height: 30%;"]],null,null,null,o.W,o.v)),t.nb(16,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(17,0,null,0,5,"ion-col",[["style","height: 100%;"]],null,null,null,o.L,o.k)),t.nb(18,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(19,0,null,0,3,"ion-card",[],null,null,null,o.J,o.e)),t.nb(20,49152,null,0,s.m,[t.h,t.k,t.x],null,null),(l()(),t.ob(21,0,null,0,1,"app-table-detail",[],null,null,null,k,v)),t.nb(22,114688,null,0,y,[s.a],{selectedTable:[0,"selectedTable"],tableListRefreshHandler:[1,"tableListRefreshHandler"]},null),(l()(),t.ob(23,0,null,0,17,"ion-col",[["size","5"],["style","height: 100%;"]],null,null,null,o.L,o.k)),t.nb(24,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(25,0,null,0,7,"ion-row",[["style","height: 70%;"]],null,null,null,o.W,o.v)),t.nb(26,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(27,0,null,0,5,"ion-col",[["style","height: 100%;"]],null,null,null,o.L,o.k)),t.nb(28,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(29,0,null,0,3,"ion-card",[],null,null,null,o.J,o.e)),t.nb(30,49152,null,0,s.m,[t.h,t.k,t.x],null,null),(l()(),t.ob(31,0,null,0,1,"app-bill-item-list",[],null,[[null,"currentBillChange"]],(function(l,n,e){var t=!0;return"currentBillChange"===n&&(t=!1!==(l.component.currentBill=e)&&t),t}),P,C)),t.nb(32,114688,[["billItemListComponent",4]],0,T,[],{refreshBillSummaryHandler:[0,"refreshBillSummaryHandler"],currentBill:[1,"currentBill"],selectedTable:[2,"selectedTable"]},{currentBillChange:"currentBillChange"}),(l()(),t.ob(33,0,null,0,7,"ion-row",[["style","height: 30%;"]],null,null,null,o.W,o.v)),t.nb(34,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(35,0,null,0,5,"ion-col",[["style","height: 100%;"]],null,null,null,o.L,o.k)),t.nb(36,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(37,0,null,0,3,"ion-card",[],null,null,null,o.J,o.e)),t.nb(38,49152,null,0,s.m,[t.h,t.k,t.x],null,null),(l()(),t.ob(39,0,null,0,1,"app-bill-summary",[],null,null,null,D,H)),t.nb(40,114688,[["billSummaryComponent",4]],0,S,[],null,null),(l()(),t.ob(41,0,null,0,5,"ion-col",[["size","3"],["style","height: 100%;"]],null,null,null,o.L,o.k)),t.nb(42,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(43,0,null,0,3,"ion-card",[],null,null,null,o.J,o.e)),t.nb(44,49152,null,0,s.m,[t.h,t.k,t.x],null,null),(l()(),t.ob(45,0,null,0,1,"app-operation-buttons",[],null,null,null,M,E)),t.nb(46,114688,null,0,w,[s.Db,s.a],{currentBill:[0,"currentBill"],selectedTable:[1,"selectedTable"],displayedBillItemList:[2,"displayedBillItemList"],refreshBillItemsHandler:[3,"refreshBillItemsHandler"],tableListRefreshHandler:[4,"tableListRefreshHandler"]},null)],(function(l,n){var e=n.component;l(n,6,0,"4"),l(n,14,0,e.selectedTable),l(n,22,0,e.selectedTable,t.Ab(n,14).fetchTableList),l(n,24,0,"5"),l(n,32,0,t.Ab(n,40).refresh,e.currentBill,e.selectedTable),l(n,40,0),l(n,42,0,"3"),l(n,46,0,e.currentBill,e.selectedTable,t.Ab(n,32).displayedBillItemList,t.Ab(n,32).refreshBillItems,t.Ab(n,14).fetchTableList)}),null)}function F(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,4,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(1,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(2,0,null,0,2,"ion-button",[["style","height: 100%; width: 100%; margin: 0;"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.accessCodeButtonClickHandler(l.context.$implicit)&&t),t}),o.D,o.c)),t.nb(3,49152,null,0,s.k,[t.h,t.k,t.x],null,null),(l()(),t.Hb(4,0,[" ",""]))],(function(l,n){l(n,1,0,"4")}),(function(l,n){l(n,4,0,n.context.$implicit)}))}function $(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,24,"ion-grid",[],null,null,null,o.N,o.m)),t.nb(2,49152,null,0,s.A,[t.h,t.k,t.x],null,null),(l()(),t.ob(3,0,null,0,22,"ion-row",[],null,null,null,o.W,o.v)),t.nb(4,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(5,0,null,0,1,"ion-col",[],null,null,null,o.L,o.k)),t.nb(6,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(7,0,null,0,16,"ion-col",[],null,null,null,o.L,o.k)),t.nb(8,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(9,0,null,0,9,"ion-input",[["clearInput","true"],["disabled",""],["inputmode","numeric"],["maxlength","6"],["pattern","[0-9]*"],["placeholder","Access Code"],["style","font-size: 4em;"],["type","password"]],[[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var i=!0,u=l.component;return"ionBlur"===n&&(i=!1!==t.Ab(l,13)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Ab(l,13)._handleInputEvent(e.target)&&i),"ngModelChange"===n&&(i=!1!==(u.accessCode=e)&&i),i}),o.R,o.q)),t.nb(10,540672,null,0,p.b,[],{maxlength:[0,"maxlength"]},null),t.nb(11,540672,null,0,p.h,[],{pattern:[0,"pattern"]},null),t.Eb(1024,null,p.c,(function(l,n){return[l,n]}),[p.b,p.h]),t.nb(13,16384,null,0,s.Kb,[t.k],null,null),t.Eb(1024,null,p.d,(function(l){return[l]}),[s.Kb]),t.nb(15,671744,null,0,p.g,[[8,null],[6,p.c],[8,null],[6,p.d]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(17,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(18,49152,null,0,s.G,[t.h,t.k,t.x],{clearInput:[0,"clearInput"],disabled:[1,"disabled"],inputmode:[2,"inputmode"],maxlength:[3,"maxlength"],pattern:[4,"pattern"],placeholder:[5,"placeholder"],type:[6,"type"]},null),(l()(),t.ob(19,0,null,0,4,"ion-row",[["style","height: 300px;"]],null,null,null,o.W,o.v)),t.nb(20,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.db(16777216,null,0,2,null,F)),t.nb(22,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),t.Bb(23,12),(l()(),t.ob(24,0,null,0,1,"ion-col",[],null,null,null,o.L,o.k)),t.nb(25,49152,null,0,s.t,[t.h,t.k,t.x],null,null)],(function(l,n){var e=n.component;l(n,10,0,"6"),l(n,11,0,"[0-9]*"),l(n,15,0,"",e.accessCode),l(n,18,0,"true","","numeric","6","[0-9]*","Access Code","password");var t=l(n,23,1,["1","2","3","4","5","6","7","8","9","clear","0","delete"]);l(n,22,0,t)}),(function(l,n){l(n,9,0,t.Ab(n,10).maxlength?t.Ab(n,10).maxlength:null,t.Ab(n,11).pattern?t.Ab(n,11).pattern:null,t.Ab(n,17).ngClassUntouched,t.Ab(n,17).ngClassTouched,t.Ab(n,17).ngClassPristine,t.Ab(n,17).ngClassDirty,t.Ab(n,17).ngClassValid,t.Ab(n,17).ngClassInvalid,t.Ab(n,17).ngClassPending)}))}function q(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,14,"ion-header",[],null,null,null,o.O,o.n)),t.nb(1,49152,null,0,s.B,[t.h,t.k,t.x],{translucent:[0,"translucent"]},null),(l()(),t.ob(2,0,null,0,12,"ion-toolbar",[],null,null,null,o.bb,o.A)),t.nb(3,49152,null,0,s.zb,[t.h,t.k,t.x],null,null),(l()(),t.ob(4,0,null,0,2,"ion-title",[],null,null,null,o.ab,o.z)),t.nb(5,49152,null,0,s.xb,[t.h,t.k,t.x],null,null),(l()(),t.Hb(6,0,[" Cashier "," "])),(l()(),t.ob(7,0,null,0,7,"ion-buttons",[["slot","end"]],null,null,null,o.E,o.d)),t.nb(8,49152,null,0,s.l,[t.h,t.k,t.x],null,null),(l()(),t.db(16777216,null,0,1,null,J)),t.nb(10,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null),(l()(),t.ob(11,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.goToSettingsPage()&&t),t}),o.D,o.c)),t.nb(12,49152,null,0,s.k,[t.h,t.k,t.x],null,null),(l()(),t.ob(13,0,null,0,1,"ion-icon",[["name","settings"],["slot","icon-only"]],null,null,null,o.P,o.o)),t.nb(14,49152,null,0,s.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.ob(15,0,null,null,5,"ion-content",[["no-padding",""]],null,null,null,o.M,o.l)),t.nb(16,49152,null,0,s.u,[t.h,t.k,t.x],{fullscreen:[0,"fullscreen"]},null),(l()(),t.db(16777216,null,0,1,null,R)),t.nb(18,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null),(l()(),t.db(16777216,null,0,1,null,$)),t.nb(20,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,1,0,!0),l(n,10,0,e.user&&e.role),l(n,14,0,"settings"),l(n,16,0,!0),l(n,18,0,e.user&&e.role),l(n,20,0,!(e.user&&e.role))}),(function(l,n){var e=n.component;l(n,6,0,e.user?"- Hello, "+e.user.name:"")}))}function j(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,1,"app-home",[],null,null,null,q,_)),t.nb(1,49152,null,0,N,[s.Eb],null,null)],null,null)}var G=t.kb("app-home",N,j,{},{},[]),W=t.mb({encapsulation:0,styles:[["#page-wrap[_ngcontent-%COMP%]{--overflow:hidden}ion-grid[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{height:100%}#selected-item-container-card[_ngcontent-%COMP%]{height:calc(100% - 40px);margin:0}ion-list[_ngcontent-%COMP%]{min-height:100%}#menu-item-box[_ngcontent-%COMP%]{height:100px;width:100px;max-width:100px}#menu-item-box[_ngcontent-%COMP%] > ion-card[_ngcontent-%COMP%]{width:100%;height:100%;color:#000;--background:grey}#menu-item-box[_ngcontent-%COMP%] > ion-card[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;background-color:grey}"]],data:{}});function V(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,10,"ion-item",[],null,null,null,o.S,o.r)),t.nb(1,49152,null,0,s.H,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,o.E,o.d)),t.nb(3,49152,null,0,s.l,[t.h,t.k,t.x],null,null),(l()(),t.ob(4,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeMenuItem(l.context.$implicit)&&t),t}),o.D,o.c)),t.nb(5,49152,null,0,s.k,[t.h,t.k,t.x],null,null),(l()(),t.ob(6,0,null,0,1,"ion-icon",[["name","remove"],["slot","icon-only"]],null,null,null,o.P,o.o)),t.nb(7,49152,null,0,s.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.ob(8,0,null,0,2,"ion-label",[],null,null,null,o.T,o.s)),t.nb(9,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(10,0,[""," * ",""]))],(function(l,n){l(n,7,0,"remove")}),(function(l,n){l(n,10,0,n.context.$implicit.name,n.context.$implicit.quantity)}))}function K(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,2,"ion-segment-button",[],null,null,null,o.X,o.x)),t.nb(1,49152,null,0,s.jb,[t.h,t.k,t.x],{value:[0,"value"]},null),(l()(),t.Hb(2,0,[""," "]))],(function(l,n){l(n,1,0,n.context.$implicit)}),(function(l,n){l(n,2,0,n.context.$implicit.name)}))}function Z(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,8,"ion-col",[["id","menu-item-box"]],null,null,null,o.L,o.k)),t.nb(1,49152,null,0,s.t,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,6,"ion-card",[["button",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addMenuItem(l.context.$implicit)&&t),t}),o.J,o.e)),t.nb(3,49152,null,0,s.m,[t.h,t.k,t.x],{button:[0,"button"]},null),(l()(),t.ob(4,0,null,0,1,"ion-img",[],null,[[null,"ionError"]],(function(l,n,e){var i=!0;return"ionError"===n&&(i=!1!==(t.Ab(l,5).src="https://unpkg.com/ionicons@5.0.0/dist/svg/restaurant-outline.svg")&&i),i}),o.Q,o.p)),t.nb(5,49152,[["menuItemImageElement",4]],0,s.D,[t.h,t.k,t.x],{src:[0,"src"]},null),(l()(),t.ob(6,0,null,0,2,"ion-label",[],null,null,null,o.T,o.s)),t.nb(7,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(8,0,["",""]))],(function(l,n){l(n,3,0,""),l(n,5,0,n.context.$implicit.imageUrl)}),(function(l,n){l(n,8,0,n.context.$implicit.name)}))}function Y(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,12,"ion-header",[],null,null,null,o.O,o.n)),t.nb(1,49152,null,0,s.B,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,10,"ion-toolbar",[],null,null,null,o.bb,o.A)),t.nb(3,49152,null,0,s.zb,[t.h,t.k,t.x],null,null),(l()(),t.ob(4,0,null,0,2,"ion-title",[],null,null,null,o.ab,o.z)),t.nb(5,49152,null,0,s.xb,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,[" Add Items "])),(l()(),t.ob(7,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,o.E,o.d)),t.nb(8,49152,null,0,s.l,[t.h,t.k,t.x],null,null),(l()(),t.ob(9,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.dismiss()&&t),t}),o.D,o.c)),t.nb(10,49152,null,0,s.k,[t.h,t.k,t.x],null,null),(l()(),t.ob(11,0,null,0,1,"ion-icon",[["name","close"],["slot","icon-only"]],null,null,null,o.P,o.o)),t.nb(12,49152,null,0,s.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.ob(13,0,null,null,37,"ion-content",[["id","page-wrap"]],null,null,null,o.M,o.l)),t.nb(14,49152,null,0,s.u,[t.h,t.k,t.x],null,null),(l()(),t.ob(15,0,null,0,35,"ion-grid",[],null,null,null,o.N,o.m)),t.nb(16,49152,null,0,s.A,[t.h,t.k,t.x],null,null),(l()(),t.ob(17,0,null,0,33,"ion-row",[],null,null,null,o.W,o.v)),t.nb(18,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(19,0,null,0,12,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(20,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(21,0,null,0,7,"ion-card",[["id","selected-item-container-card"]],null,null,null,o.J,o.e)),t.nb(22,49152,null,0,s.m,[t.h,t.k,t.x],null,null),(l()(),t.ob(23,0,null,0,5,"ion-content",[],null,null,null,o.M,o.l)),t.nb(24,49152,null,0,s.u,[t.h,t.k,t.x],null,null),(l()(),t.ob(25,0,null,0,3,"ion-list",[],null,null,null,o.U,o.t)),t.nb(26,49152,null,0,s.O,[t.h,t.k,t.x],null,null),(l()(),t.db(16777216,null,0,1,null,V)),t.nb(28,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ob(29,0,null,0,2,"ion-button",[["expand","block"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.confirm()&&t),t}),o.D,o.c)),t.nb(30,49152,null,0,s.k,[t.h,t.k,t.x],{expand:[0,"expand"]},null),(l()(),t.Hb(-1,0,["Confirm"])),(l()(),t.ob(32,0,null,0,18,"ion-col",[["size","8"]],null,null,null,o.L,o.k)),t.nb(33,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(34,0,null,0,8,"ion-segment",[["scrollable",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var i=!0,u=l.component;return"ionBlur"===n&&(i=!1!==t.Ab(l,35)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Ab(l,35)._handleChangeEvent(e.target)&&i),"ngModelChange"===n&&(i=!1!==(u.selectedCategory=e)&&i),i}),o.Y,o.w)),t.nb(35,16384,null,0,s.Jb,[t.k],null,null),t.Eb(1024,null,p.d,(function(l){return[l]}),[s.Jb]),t.nb(37,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(39,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(40,49152,null,0,s.ib,[t.h,t.k,t.x],{scrollable:[0,"scrollable"]},null),(l()(),t.db(16777216,null,0,1,null,K)),t.nb(42,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ob(43,0,null,0,7,"ion-content",[],null,null,null,o.M,o.l)),t.nb(44,49152,null,0,s.u,[t.h,t.k,t.x],null,null),(l()(),t.ob(45,0,null,0,5,"ion-grid",[],null,null,null,o.N,o.m)),t.nb(46,49152,null,0,s.A,[t.h,t.k,t.x],null,null),(l()(),t.ob(47,0,null,0,3,"ion-row",[],null,null,null,o.W,o.v)),t.nb(48,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.db(16777216,null,0,1,null,Z)),t.nb(50,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,12,0,"close"),l(n,20,0,"4"),l(n,28,0,e.selectedMenuItemList),l(n,30,0,"block"),l(n,33,0,"8"),l(n,37,0,e.selectedCategory),l(n,40,0,""),l(n,42,0,e.categoryList),l(n,50,0,e.displayedMenuItemList)}),(function(l,n){l(n,34,0,t.Ab(n,39).ngClassUntouched,t.Ab(n,39).ngClassTouched,t.Ab(n,39).ngClassPristine,t.Ab(n,39).ngClassDirty,t.Ab(n,39).ngClassValid,t.Ab(n,39).ngClassInvalid,t.Ab(n,39).ngClassPending)}))}function Q(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,1,"app-menu-item-picker",[],null,null,null,Y,W)),t.nb(1,114688,null,0,z,[s.Db,s.Fb],null,null)],(function(l,n){l(n,1,0)}),null)}var X=t.kb("app-menu-item-picker",z,Q,{},{},[]),ll=t.mb({encapsulation:0,styles:[[""]],data:{}});function nl(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,4,"ion-note",[],null,null,null,o.V,o.u)),t.nb(1,49152,null,0,s.V,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,2,"ion-label",[["color","danger"]],null,null,null,o.T,o.s)),t.nb(3,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(4,0,["- ",""]))],(function(l,n){l(n,3,0,"danger")}),(function(l,n){l(n,4,0,n.context.$implicit.name)}))}function el(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,5,"ion-row",[],null,null,null,o.W,o.v)),t.nb(1,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,3,"ion-list",[],null,null,null,o.U,o.t)),t.nb(3,49152,null,0,s.O,[t.h,t.k,t.x],null,null),(l()(),t.db(16777216,null,0,1,null,nl)),t.nb(5,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.parent.context.$implicit.discountList)}),null)}function tl(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,17,"ion-item",[["class","menu-item-box"],["style","width: 100%"]],null,null,null,o.S,o.r)),t.nb(1,49152,null,0,s.H,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,15,"ion-grid",[],null,null,null,o.N,o.m)),t.nb(3,49152,null,0,s.A,[t.h,t.k,t.x],null,null),(l()(),t.ob(4,0,null,0,11,"ion-row",[],null,null,null,o.W,o.v)),t.nb(5,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(6,0,null,0,4,"ion-col",[["size","8"]],null,null,null,o.L,o.k)),t.nb(7,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(8,0,null,0,2,"ion-label",[["text-wrap",""]],null,null,null,o.T,o.s)),t.nb(9,49152,null,0,s.N,[t.h,t.k,t.x],null,null),(l()(),t.Hb(10,0,[""," *",""])),(l()(),t.ob(11,0,null,0,4,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(12,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(13,0,null,0,2,"ion-label",[["color","medium"],["style","font-size:0.9em;"]],null,null,null,o.T,o.s)),t.nb(14,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(15,0,[" $"," "])),(l()(),t.db(16777216,null,0,1,null,el)),t.nb(17,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,7,0,"8"),l(n,12,0,"4"),l(n,14,0,"medium"),l(n,17,0,(null==n.context.$implicit.discountList?null:n.context.$implicit.discountList.length)>0)}),(function(l,n){l(n,10,0,n.context.$implicit.name,n.context.$implicit.quantity),l(n,15,0,(n.context.$implicit.unitPrice*n.context.$implicit.quantity*(1+n.context.$implicit.pst+n.context.$implicit.gst+n.context.$implicit.lct)).toFixed(2))}))}function il(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,4,"ion-item",[],null,null,null,o.S,o.r)),t.nb(1,49152,null,0,s.H,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,2,"ion-label",[["color","danger"]],null,null,null,o.T,o.s)),t.nb(3,49152,null,0,s.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Hb(4,0,["Bill: ",""]))],(function(l,n){l(n,3,0,"danger")}),(function(l,n){l(n,4,0,n.context.$implicit.name)}))}function ul(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,12,"ion-header",[],null,null,null,o.O,o.n)),t.nb(1,49152,null,0,s.B,[t.h,t.k,t.x],null,null),(l()(),t.ob(2,0,null,0,10,"ion-toolbar",[],null,null,null,o.bb,o.A)),t.nb(3,49152,null,0,s.zb,[t.h,t.k,t.x],null,null),(l()(),t.ob(4,0,null,0,2,"ion-title",[],null,null,null,o.ab,o.z)),t.nb(5,49152,null,0,s.xb,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,[" Payment "])),(l()(),t.ob(7,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,o.E,o.d)),t.nb(8,49152,null,0,s.l,[t.h,t.k,t.x],null,null),(l()(),t.ob(9,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.dismiss()&&t),t}),o.D,o.c)),t.nb(10,49152,null,0,s.k,[t.h,t.k,t.x],null,null),(l()(),t.ob(11,0,null,0,1,"ion-icon",[["name","close"],["slot","icon-only"]],null,null,null,o.P,o.o)),t.nb(12,49152,null,0,s.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.ob(13,0,null,null,76,"ion-content",[["id","page-wrap"]],null,null,null,o.M,o.l)),t.nb(14,49152,null,0,s.u,[t.h,t.k,t.x],null,null),(l()(),t.ob(15,0,null,0,74,"ion-row",[["style","height: 100%"]],null,null,null,o.W,o.v)),t.nb(16,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(17,0,null,0,5,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(18,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.db(16777216,null,0,1,null,tl)),t.nb(20,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.db(16777216,null,0,1,null,il)),t.nb(22,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ob(23,0,null,0,66,"ion-col",[["size","8"]],null,null,null,o.L,o.k)),t.nb(24,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(25,0,null,0,8,"ion-item",[],null,null,null,o.S,o.r)),t.nb(26,49152,null,0,s.H,[t.h,t.k,t.x],null,null),(l()(),t.ob(27,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,o.T,o.s)),t.nb(28,49152,null,0,s.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Hb(-1,0,["Total price: "])),(l()(),t.ob(30,0,null,0,3,"ion-textarea",[["readonly",""]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var i=!0;return"ionBlur"===n&&(i=!1!==t.Ab(l,33)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Ab(l,33)._handleInputEvent(e.target)&&i),i}),o.Z,o.y)),t.Eb(5120,null,p.d,(function(l){return[l]}),[s.Kb]),t.nb(32,49152,null,0,s.vb,[t.h,t.k,t.x],{readonly:[0,"readonly"],value:[1,"value"]},null),t.nb(33,16384,null,0,s.Kb,[t.k],null,null),(l()(),t.ob(34,0,null,0,52,"ion-row",[],null,null,null,o.W,o.v)),t.nb(35,49152,null,0,s.gb,[t.h,t.k,t.x],null,null),(l()(),t.ob(36,0,null,0,13,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(37,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(38,0,null,0,11,"ion-item",[],null,null,null,o.S,o.r)),t.nb(39,49152,null,0,s.H,[t.h,t.k,t.x],null,null),(l()(),t.ob(40,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,o.T,o.s)),t.nb(41,49152,null,0,s.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Hb(-1,0,["Cash pay: "])),(l()(),t.ob(43,0,null,0,6,"ion-textarea",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var i=!0,u=l.component;return"ionBlur"===n&&(i=!1!==t.Ab(l,44)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Ab(l,44)._handleInputEvent(e.target)&&i),"ngModelChange"===n&&(i=!1!==(u.cashPay=e)&&i),i}),o.Z,o.y)),t.nb(44,16384,null,0,s.Kb,[t.k],null,null),t.Eb(1024,null,p.d,(function(l){return[l]}),[s.Kb]),t.nb(46,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(48,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(49,49152,null,0,s.vb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),(l()(),t.ob(50,0,null,0,13,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(51,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(52,0,null,0,11,"ion-item",[],null,null,null,o.S,o.r)),t.nb(53,49152,null,0,s.H,[t.h,t.k,t.x],null,null),(l()(),t.ob(54,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,o.T,o.s)),t.nb(55,49152,null,0,s.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Hb(-1,0,["Card pay: "])),(l()(),t.ob(57,0,null,0,6,"ion-textarea",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var i=!0,u=l.component;return"ionBlur"===n&&(i=!1!==t.Ab(l,58)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Ab(l,58)._handleInputEvent(e.target)&&i),"ngModelChange"===n&&(i=!1!==(u.cardPay=e)&&i),i}),o.Z,o.y)),t.nb(58,16384,null,0,s.Kb,[t.k],null,null),t.Eb(1024,null,p.d,(function(l){return[l]}),[s.Kb]),t.nb(60,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(62,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(63,49152,null,0,s.vb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),(l()(),t.ob(64,0,null,0,22,"ion-col",[["size","4"]],null,null,null,o.L,o.k)),t.nb(65,49152,null,0,s.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(l()(),t.ob(66,0,null,0,11,"ion-item",[],null,null,null,o.S,o.r)),t.nb(67,49152,null,0,s.H,[t.h,t.k,t.x],null,null),(l()(),t.ob(68,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,o.T,o.s)),t.nb(69,49152,null,0,s.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Hb(-1,0,["Give change: "])),(l()(),t.ob(71,0,null,0,6,"ion-textarea",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var i=!0,u=l.component;return"ionBlur"===n&&(i=!1!==t.Ab(l,72)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Ab(l,72)._handleInputEvent(e.target)&&i),"ngModelChange"===n&&(i=!1!==(u.changeGiven=e)&&i),i}),o.Z,o.y)),t.nb(72,16384,null,0,s.Kb,[t.k],null,null),t.Eb(1024,null,p.d,(function(l){return[l]}),[s.Kb]),t.nb(74,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(76,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(77,49152,null,0,s.vb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),(l()(),t.ob(78,0,null,0,8,"ion-item",[],null,null,null,o.S,o.r)),t.nb(79,49152,null,0,s.H,[t.h,t.k,t.x],null,null),(l()(),t.ob(80,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,o.T,o.s)),t.nb(81,49152,null,0,s.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Hb(-1,0,["Tip receive: "])),(l()(),t.ob(83,0,null,0,3,"ion-textarea",[["readonly",""]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var i=!0;return"ionBlur"===n&&(i=!1!==t.Ab(l,86)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Ab(l,86)._handleInputEvent(e.target)&&i),i}),o.Z,o.y)),t.Eb(5120,null,p.d,(function(l){return[l]}),[s.Kb]),t.nb(85,49152,null,0,s.vb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"],readonly:[1,"readonly"]},null),t.nb(86,16384,null,0,s.Kb,[t.k],null,null),(l()(),t.ob(87,0,null,0,2,"ion-button",[["id","confirm"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.confirmPayment()&&t),t}),o.D,o.c)),t.nb(88,49152,null,0,s.k,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Confirm"]))],(function(l,n){var e=n.component;l(n,12,0,"close"),l(n,18,0,"4"),l(n,20,0,e.mappedBillItems),l(n,22,0,e.currentBillDiscountList),l(n,24,0,"8"),l(n,28,0,"floating"),l(n,32,0,"",t.sb(1,"$",e.selectedBillItemPrice.toFixed(2),"")),l(n,37,0,"4"),l(n,41,0,"floating"),l(n,46,0,e.cashPay),l(n,49,0,t.sb(1,"$",e.cashPay,"")),l(n,51,0,"4"),l(n,55,0,"floating"),l(n,60,0,e.cardPay),l(n,63,0,t.sb(1,"$",e.cardPay,"")),l(n,65,0,"4"),l(n,69,0,"floating"),l(n,74,0,e.changeGiven),l(n,77,0,t.sb(1,"$",e.changeGiven,"")),l(n,81,0,"floating"),l(n,85,0,t.sb(1,"$",e.tipReceive.toFixed(2),""),"")}),(function(l,n){l(n,43,0,t.Ab(n,48).ngClassUntouched,t.Ab(n,48).ngClassTouched,t.Ab(n,48).ngClassPristine,t.Ab(n,48).ngClassDirty,t.Ab(n,48).ngClassValid,t.Ab(n,48).ngClassInvalid,t.Ab(n,48).ngClassPending),l(n,57,0,t.Ab(n,62).ngClassUntouched,t.Ab(n,62).ngClassTouched,t.Ab(n,62).ngClassPristine,t.Ab(n,62).ngClassDirty,t.Ab(n,62).ngClassValid,t.Ab(n,62).ngClassInvalid,t.Ab(n,62).ngClassPending),l(n,71,0,t.Ab(n,76).ngClassUntouched,t.Ab(n,76).ngClassTouched,t.Ab(n,76).ngClassPristine,t.Ab(n,76).ngClassDirty,t.Ab(n,76).ngClassValid,t.Ab(n,76).ngClassInvalid,t.Ab(n,76).ngClassPending)}))}function ol(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,1,"app-payment",[],null,null,null,ul,ll)),t.nb(1,114688,null,0,O,[s.Db,s.Fb,s.a],null,null)],(function(l,n){l(n,1,0)}),null)}var sl=t.kb("app-payment",O,ol,{},{},[]),rl=e("iInd");e.d(n,"HomePageModuleNgFactory",(function(){return al}));var al=t.lb(i,[],(function(l){return t.xb([t.yb(512,t.j,t.W,[[8,[u.a,G,X,sl]],[3,t.j],t.v]),t.yb(4608,c.k,c.j,[t.s,[2,c.r]]),t.yb(4608,p.j,p.j,[]),t.yb(4608,s.b,s.b,[t.x,t.g]),t.yb(4608,s.Db,s.Db,[s.b,t.j,t.p]),t.yb(4608,s.Ib,s.Ib,[s.b,t.j,t.p]),t.yb(1073742336,c.b,c.b,[]),t.yb(1073742336,p.i,p.i,[]),t.yb(1073742336,p.a,p.a,[]),t.yb(1073742336,s.Bb,s.Bb,[]),t.yb(1073742336,rl.n,rl.n,[[2,rl.s],[2,rl.m]]),t.yb(1073742336,i,i,[]),t.yb(1024,rl.k,(function(){return[[{path:"",component:N}]]}),[])])}))}}]);