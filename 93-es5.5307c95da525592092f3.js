function _createForOfIteratorHelper(n){if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(n=_unsupportedIterableToArray(n))){var l=0,e=function(){};return{s:e,n:function(){return l>=n.length?{done:!0}:{done:!1,value:n[l++]}},e:function(n){throw n},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,u,r=!0,i=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return r=n.done,n},e:function(n){i=!0,u=n},f:function(){try{r||null==t.return||t.return()}finally{if(i)throw u}}}}function _unsupportedIterableToArray(n,l){if(n){if("string"==typeof n)return _arrayLikeToArray(n,l);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(n,l):void 0}}function _arrayLikeToArray(n,l){(null==l||l>n.length)&&(l=n.length);for(var e=0,t=new Array(l);e<l;e++)t[e]=n[e];return t}function _defineProperties(n,l){for(var e=0;e<l.length;e++){var t=l[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,l,e){return l&&_defineProperties(n.prototype,l),e&&_defineProperties(n,e),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{L6id:function(n,l,e){"use strict";e.r(l);var t=e("8Y7J"),u=function n(){_classCallCheck(this,n)},r=e("pMnS"),i=e("MKJQ"),o=e("sZkV"),s=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"transform",value:function(n){switch(n){case"Free":return"secondary";case"Using":return"success";case"Reserved":return"tertiary";case"Dirty":return"warning";case"Unavailable":return"danger";case"Togo":return"medium"}}}]),n}(),a=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"transform",value:function(n,l){switch(n){case"Free":switch(l){case 0:return"Disable";case 1:return"Reserve";case 2:return"Open";default:return""}case"Using":switch(l){case 0:return"Confirm";case 1:return"Transfer";case 2:return"Close";default:return""}case"Reserved":switch(l){case 0:return"Confirm";case 1:return"Free";case 2:return"Open";default:return""}case"Dirty":switch(l){case 0:return"Disable";case 1:return"Free";default:return""}case"Unavailable":switch(l){case 1:return"Free";default:return""}}}}]),n}(),c=e("SVse"),b=e("mrSG"),d=function(){var n=function n(){_classCallCheck(this,n),this.occupied=0,this.status=n.Status.Unavailable};return n.Status={Free:"Free",Using:"Using",Reserved:"Reserved",Dirty:"Dirty",Unavailable:"Unavailable",Togo:"Togo"},n}(),h=function(){function n(l){var e=this;_classCallCheck(this,n),this.alertController=l,this.selectedTableChange=new t.m,this.fetchTableList=function(){return b.a(e,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table");case 2:return l=n.sent,n.next=5,fetch(localStorage.getItem("serverApiBaseUrl")+"/table/togo");case 5:return e=n.sent,n.next=8,l.json();case 8:return n.t0=n.sent,n.next=11,e.json();case 11:n.t1=n.sent,this.tableList=n.t0.concat.call(n.t0,n.t1),this.selectedTable&&(this.selectedTable=this.tableList.find((function(n){return n.name==t.selectedTable.name})));case 14:case"end":return n.stop()}}),n,this)})))}}return _createClass(n,[{key:"ngOnInit",value:function(){this.fetchTableList()}},{key:"ionViewDidEnter",value:function(){this.fetchTableList()}},{key:"selectTable",value:function(n){this.selectedTable=n}},{key:"addTogo",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:"Transfer to:",inputs:[{type:"radio",label:"Pick-up",value:"p"},{type:"radio",label:"Delivery",value:"d"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:function(n){return b.a(e,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/add/togo?togoType="+n,{method:"POST",credentials:"include"});case 2:this.fetchTableList();case 3:case"end":return l.stop()}}),l,this)})))}}]});case 2:return l=n.sent,n.next=5,l.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"selectedTable",get:function(){return this._selectedTable},set:function(n){this._selectedTable=n,this.selectedTableChange.emit(n)}}]),n}(),m=t.mb({encapsulation:0,styles:[["ion-col[_ngcontent-%COMP%]{height:100px}ion-button[_ngcontent-%COMP%]{width:100%;height:100%}"]],data:{}});function f(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,5,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(1,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(2,0,null,0,3,"ion-button",[["class","large-button"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.selectTable(n.context.$implicit)&&t),t}),i.D,i.c)),t.nb(3,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],fill:[1,"fill"]},null),t.Db(4,1),(n()(),t.Hb(5,0,["",""]))],(function(n,l){var e=l.component;n(l,1,0,"4");var u=t.Ib(l,3,0,n(l,4,0,t.Ab(l.parent,0),l.context.$implicit.status));n(l,3,0,u,e.selectedTable===l.context.$implicit?"outline":"solid")}),(function(n,l){n(l,5,0,l.context.$implicit.name)}))}function g(n){return t.Jb(0,[t.Cb(0,s,[]),(n()(),t.ob(1,0,null,null,10,"ion-grid",[],null,null,null,i.N,i.m)),t.nb(2,49152,null,0,o.A,[t.h,t.k,t.x],null,null),(n()(),t.ob(3,0,null,0,8,"ion-row",[],null,null,null,i.W,i.v)),t.nb(4,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.db(16777216,null,0,1,null,f)),t.nb(6,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ob(7,0,null,0,4,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(8,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(9,0,null,0,2,"ion-button",[["class","large-button"],["color","dark"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addTogo()&&t),t}),i.D,i.c)),t.nb(10,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(-1,0,["New To-Go"]))],(function(n,l){n(l,6,0,l.component.tableList),n(l,8,0,"4"),n(l,10,0,"dark")}),null)}var p=e("s7LF"),v=function(){function n(l){_classCallCheck(this,n),this.alertController=l}return _createClass(n,[{key:"ngOnInit",value:function(){this.startTableTimer()}},{key:"operate",value:function(n,l){switch(+n){case 0:this.operate0(+l);break;case 1:this.operate1(+l);break;case 2:this.operate2(+l)}}},{key:"startTableTimer",value:function(){var n=this;this.tableTimer&&clearInterval(this.tableTimer),this.tableTimer=setInterval((function(){if(n.selectedTable&&n.selectedTable.startTime){var l=new Date(n.selectedTable.startTime),e=(new Date).getTime()-l.getTime(),t=new Date(e),u=Math.floor(e/1e3/60/1440);n.tableDuration=u+"d"+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)}else n.tableDuration=""}),1e3)}},{key:"operate0",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:l.t0=this.selectedTable.status,l.next="Free"===l.t0?3:"Dirty"===l.t0?3:"Using"===l.t0?6:"Reserved"===l.t0?6:8;break;case 3:return l.next=5,this.disable();case 5:return l.abrupt("break",8);case 6:return l.next=8,this.modify(n);case 8:this.tableListRefreshHandler();case 9:case"end":return l.stop()}}),l,this)})))}},{key:"operate1",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:l.t0=this.selectedTable.status,l.next="Free"===l.t0?3:"Using"===l.t0?6:"Reserved"===l.t0?9:"Dirty"===l.t0?9:"Unavailable"===l.t0?9:11;break;case 3:return l.next=5,this.reserve(n);case 5:return l.abrupt("break",11);case 6:return l.next=8,this.transfer();case 8:return l.abrupt("break",11);case 9:return l.next=11,this.free();case 11:this.tableListRefreshHandler();case 12:case"end":return l.stop()}}),l,this)})))}},{key:"operate2",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:l.t0=this.selectedTable.status,l.next="Free"===l.t0?3:"Reserved"===l.t0?3:"Using"===l.t0?6:8;break;case 3:return l.next=5,this.open(n);case 5:return l.abrupt("break",8);case 6:return l.next=8,this.close();case 8:this.tableListRefreshHandler();case 9:case"end":return l.stop()}}),l,this)})))}},{key:"open",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table/open?id="+this.selectedTable.id+"&occupied="+(+n?n:1),{method:"PUT",credentials:"include"});case 2:case"end":return l.stop()}}),l,this)})))}},{key:"reserve",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table/reserve?id="+this.selectedTable.id+"&occupied="+n,{method:"PUT",credentials:"include"});case 2:case"end":return l.stop()}}),l,this)})))}},{key:"disable",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table/disable?id="+this.selectedTable.id,{method:"PUT",credentials:"include"});case 2:case"end":return n.stop()}}),n,this)})))}},{key:"free",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table/free?id="+this.selectedTable.id,{method:"PUT",credentials:"include"});case 2:case"end":return n.stop()}}),n,this)})))}},{key:"transfer",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,t,u,r,i,o,s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table?status=Free");case 2:return l=n.sent,n.next=5,l.json();case 5:if(!(e=n.sent)){n.next=15;break}t=[],u=_createForOfIteratorHelper(e);try{for(u.s();!(r=u.n()).done;)i=r.value,t.push({name:i.name,type:"radio",label:i.name,value:i.id})}catch(a){u.e(a)}finally{u.f()}return n.next=12,this.alertController.create({header:"Transfer to:",inputs:t,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:function(n){return b.a(s,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table/transfer?id="+this.selectedTable.id+"&transferId="+n,{method:"PUT",credentials:"include"});case 2:this.tableListRefreshHandler();case 3:case"end":return l.stop()}}),l,this)})))}}]});case 12:return o=n.sent,n.next=15,o.present();case 15:case"end":return n.stop()}}),n,this)})))}},{key:"modify",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table/modify-occupied?id="+this.selectedTable.id+"&occupied="+n,{method:"PUT",credentials:"include"});case 2:case"end":return l.stop()}}),l,this)})))}},{key:"close",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:"Close "+this.selectedTable.name,message:"Are you sure to close "+this.selectedTable.name+"?",buttons:["Cancel",{text:"Confirm",handler:function(){return b.a(e,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table/close?id="+this.selectedTable.id,{method:"PUT",credentials:"include"});case 2:this.tableListRefreshHandler();case 3:case"end":return n.stop()}}),n,this)})))}}]});case 2:return l=n.sent,n.next=5,l.present();case 5:case"end":return n.stop()}}),n,this)})))}}]),n}(),k=t.mb({encapsulation:0,styles:[[""]],data:{}});function x(n){return t.Jb(0,[t.Cb(0,s,[]),t.Cb(0,a,[]),(n()(),t.ob(2,0,null,null,13,"ion-card-header",[],null,null,null,i.G,i.g)),t.nb(3,49152,null,0,o.o,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,11,"ion-card-title",[],null,null,null,i.I,i.i)),t.nb(5,49152,null,0,o.q,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,2,"ion-label",[],null,null,null,i.T,i.s)),t.nb(7,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(8,0,["",""])),(n()(),t.ob(9,0,null,0,2,"ion-label",[["color","secondary"],["style","margin-left: 0.8em; font-size: 1em;"]],null,null,null,i.T,i.s)),t.nb(10,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(11,0,["",""])),(n()(),t.ob(12,0,null,0,3,"ion-label",[["style","float: right; font-size: 1.2em;"]],null,null,null,i.T,i.s)),t.nb(13,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),t.Db(14,1),(n()(),t.Hb(15,0,["",""])),(n()(),t.ob(16,0,null,null,35,"ion-card-content",[["style","height: calc(100% - 56px);"]],null,null,null,i.F,i.f)),t.nb(17,49152,null,0,o.n,[t.h,t.k,t.x],null,null),(n()(),t.ob(18,0,null,0,33,"ion-row",[["style","height: 100%"]],null,null,null,i.W,i.v)),t.nb(19,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(20,0,null,0,13,"ion-col",[["size","12"]],null,null,null,i.L,i.k)),t.nb(21,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(22,0,null,0,11,"ion-item",[],null,null,null,i.S,i.r)),t.nb(23,49152,null,0,o.H,[t.h,t.k,t.x],{disabled:[0,"disabled"]},null),(n()(),t.ob(24,0,null,0,2,"ion-label",[["position","fixed"]],null,null,null,i.T,i.s)),t.nb(25,49152,null,0,o.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Hb(-1,0,["Customers"])),(n()(),t.ob(27,0,null,0,3,"ion-input",[["type","number"]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0;return"ionBlur"===l&&(u=!1!==t.Ab(n,30)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,30)._handleIonChange(e.target)&&u),u}),i.R,i.q)),t.Eb(5120,null,p.d,(function(n){return[n]}),[o.Gb]),t.nb(29,49152,[["occupiedInput",4]],0,o.G,[t.h,t.k,t.x],{type:[0,"type"],value:[1,"value"]},null),t.nb(30,16384,null,0,o.Gb,[t.k],null,null),(n()(),t.ob(31,0,null,0,2,"ion-label",[["slot","end"]],null,null,null,i.T,i.s)),t.nb(32,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(33,0,["of ",""])),(n()(),t.ob(34,0,null,0,5,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(35,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(36,0,null,0,3,"ion-button",[["class","large-button"],["color","light"]],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.operate(0,t.Ab(n,29).value)&&u),u}),i.D,i.c)),t.nb(37,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(38,0,[" ",""])),t.Db(39,2),(n()(),t.ob(40,0,null,0,5,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(41,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(42,0,null,0,3,"ion-button",[["class","large-button"],["color","light"]],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.operate(1,t.Ab(n,29).value)&&u),u}),i.D,i.c)),t.nb(43,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(44,0,[" ",""])),t.Db(45,2),(n()(),t.ob(46,0,null,0,5,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(47,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(48,0,null,0,3,"ion-button",[["class","large-button"],["color","light"]],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.operate(2,t.Ab(n,29).value)&&u),u}),i.D,i.c)),t.nb(49,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(50,0,[" ",""])),t.Db(51,2)],(function(n,l){var e=l.component;n(l,10,0,"secondary");var u=t.Ib(l,13,0,n(l,14,0,t.Ab(l,0),e.selectedTable?e.selectedTable.status:""));n(l,13,0,u),n(l,21,0,"12"),n(l,23,0,!e.selectedTable||"Free"!==e.selectedTable.status&&"Using"!==e.selectedTable.status&&"Reserved"!==e.selectedTable.status),n(l,25,0,"fixed"),n(l,29,0,"number",e.selectedTable?e.selectedTable.occupied:1),n(l,35,0,"4"),n(l,37,0,"light"),n(l,41,0,"4"),n(l,43,0,"light"),n(l,47,0,"4"),n(l,49,0,"light")}),(function(n,l){var e=l.component;n(l,8,0,e.selectedTable?e.selectedTable.name:"No Selected Table"),n(l,11,0,e.tableDuration),n(l,15,0,e.selectedTable?e.selectedTable.status:""),n(l,33,0,e.selectedTable?e.selectedTable.capacity:0);var u=t.Ib(l,38,0,n(l,39,0,t.Ab(l,1),e.selectedTable?e.selectedTable.status:"",0));n(l,38,0,u);var r=t.Ib(l,44,0,n(l,45,0,t.Ab(l,1),e.selectedTable?e.selectedTable.status:"",1));n(l,44,0,r);var i=t.Ib(l,50,0,n(l,51,0,t.Ab(l,1),e.selectedTable?e.selectedTable.status:"",2));n(l,50,0,i)}))}var y=function(){function n(l,e,t){_classCallCheck(this,n),this.billItem=l,this.menuItem=e,this.discountList=t,this.isSelected=!1}return _createClass(n,[{key:"itemName",get:function(){return this.menuItem.name}},{key:"unitPrice",get:function(){return this.menuItem.unitPrice}},{key:"quantity",get:function(){return this.billItem.quantity}},{key:"totalPrice",get:function(){return(this.menuItem.unitPrice*this.billItem.quantity).toFixed(2)}},{key:"discount",get:function(){return this.discountList}}]),n}(),I=function(){var n=function n(){_classCallCheck(this,n),this.status=n.Status.Open,this.discountIdDict={}};return n.Status={Open:"Open",Closed:"Closed"},n}(),C=function(){function n(){var l=this;_classCallCheck(this,n),this.displayedBillItemList=[],this.currentBillChange=new t.m,this.refreshBillItems=function(){return b.a(l,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.selectedTable,!n.t0){n.next=6;break}return n.next=4,this.fetchBill(this.selectedTable.id);case 4:this.currentBill=n.sent,n.t0=this.currentBill;case 6:if(!n.t0){n.next=17;break}return n.next=9,this.fetchMenuItemList();case 9:return l=n.sent,n.next=12,this.fetchBillItemList(this.currentBill.id,"False");case 12:return e=n.sent,n.next=15,this.generateDisplayList(e,l);case 15:return this.displayedBillItemList=n.sent,n.abrupt("return",void this.refreshBillSummaryHandler(this.displayedBillItemList));case 17:this.displayedBillItemList=[];case 18:case"end":return n.stop()}}),n,this)})))}}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"checkBoxValueChangeHandler",value:function(){var n=this.displayedBillItemList.filter((function(n){return n.isSelected}));this.refreshBillSummaryHandler(n.length>0?n:this.displayedBillItemList)}},{key:"selectedTableChangedHandler",value:function(){this.refreshBillItems()}},{key:"fetchMenuItemList",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/menu/item");case 2:return l=n.sent,n.next=5,l.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))}},{key:"fetchBill",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill?tableId="+n+"&status="+I.Status.Open,{method:"GET",credentials:"include"});case 2:return e=l.sent,l.next=5,e.json();case 5:return l.abrupt("return",l.sent[0]);case 6:case"end":return l.stop()}}),l)})))}},{key:"fetchBillItemList",value:function(n,l){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item?billId="+n+"&hasPaid="+l,{method:"GET",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))}},{key:"fetchDiscountList",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/discount",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return e=l.sent,l.next=5,e.json();case 5:return l.abrupt("return",l.sent);case 6:case"end":return l.stop()}}),l)})))}},{key:"generateDisplayList",value:function(n,l){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,u,r,i,o,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],u=_createForOfIteratorHelper(n),e.prev=2,i=regeneratorRuntime.mark((function n(){var e,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=r.value,u=l.find((function(n){return n.id===e.menuItemId})),!(e.discountIdList.length>0)){n.next=8;break}return n.next=5,s.fetchDiscountList(e.discountIdList);case 5:o=n.sent,n.next=9;break;case 8:o=[];case 9:t.push(new y(e,u,o));case 10:case"end":return n.stop()}}),n)})),u.s();case 5:if((r=u.n()).done){e.next=9;break}return e.delegateYield(i(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),u.e(e.t1);case 14:return e.prev=14,u.f(),e.finish(14);case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))}},{key:"currentBill",get:function(){return this._currentBill},set:function(n){this._currentBill=n,this.currentBillChange.emit(n)}},{key:"selectedTable",get:function(){return this._selectedTable},set:function(n){this._selectedTable=n,this.selectedTableChangedHandler()}}]),n}(),T=t.mb({encapsulation:0,styles:[["ion-list[_ngcontent-%COMP%]{min-height:100%}"]],data:{}});function B(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,4,"ion-note",[],null,null,null,i.V,i.u)),t.nb(1,49152,null,0,o.V,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,2,"ion-label",[],null,null,null,i.T,i.s)),t.nb(3,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(4,0,[" "," "]))],null,(function(n,l){n(l,4,0,l.context.$implicit.name)}))}function w(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,5,"ion-row",[],null,null,null,i.W,i.v)),t.nb(1,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,3,"ion-list",[],null,null,null,i.U,i.t)),t.nb(3,49152,null,0,o.O,[t.h,t.k,t.x],null,null),(n()(),t.db(16777216,null,0,1,null,B)),t.nb(5,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,5,0,l.parent.context.$implicit.discountList)}),null)}function L(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,34,"ion-item",[],null,null,null,i.S,i.r)),t.nb(1,49152,null,0,o.H,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,6,"ion-checkbox",[["slot","start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var u=!0,r=n.component;return"ionBlur"===l&&(u=!1!==t.Ab(n,3)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,3)._handleIonChange(e.target)&&u),"ngModelChange"===l&&(u=!1!==(n.context.$implicit.isSelected=e)&&u),"ionChange"===l&&(u=!1!==r.checkBoxValueChangeHandler()&&u),u}),i.K,i.j)),t.nb(3,16384,null,0,o.c,[t.k],null,null),t.Eb(1024,null,p.d,(function(n){return[n]}),[o.c]),t.nb(5,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(7,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(8,49152,null,0,o.r,[t.h,t.k,t.x],null,null),(n()(),t.ob(9,0,null,0,25,"ion-grid",[["style","width: 100%;"]],null,null,null,i.N,i.m)),t.nb(10,49152,null,0,o.A,[t.h,t.k,t.x],null,null),(n()(),t.ob(11,0,null,0,21,"ion-row",[["style","width: 100%;"]],null,null,null,i.W,i.v)),t.nb(12,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(13,0,null,0,4,"ion-col",[["size","6"]],null,null,null,i.L,i.k)),t.nb(14,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(15,0,null,0,2,"ion-label",[],null,null,null,i.T,i.s)),t.nb(16,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(17,0,["",""])),(n()(),t.ob(18,0,null,0,4,"ion-col",[["size","2"]],null,null,null,i.L,i.k)),t.nb(19,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(20,0,null,0,2,"ion-label",[],null,null,null,i.T,i.s)),t.nb(21,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(22,0,["$",""])),(n()(),t.ob(23,0,null,0,4,"ion-col",[["size","2"]],null,null,null,i.L,i.k)),t.nb(24,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(25,0,null,0,2,"ion-label",[],null,null,null,i.T,i.s)),t.nb(26,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(27,0,["* ",""])),(n()(),t.ob(28,0,null,0,4,"ion-col",[["size","2"]],null,null,null,i.L,i.k)),t.nb(29,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(30,0,null,0,2,"ion-label",[],null,null,null,i.T,i.s)),t.nb(31,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(32,0,["$",""])),(n()(),t.db(16777216,null,0,1,null,w)),t.nb(34,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,5,0,l.context.$implicit.isSelected),n(l,14,0,"6"),n(l,19,0,"2"),n(l,24,0,"2"),n(l,29,0,"2"),n(l,34,0,(null==l.context.$implicit.discountList?null:l.context.$implicit.discountList.length)>0)}),(function(n,l){n(l,2,0,t.Ab(l,7).ngClassUntouched,t.Ab(l,7).ngClassTouched,t.Ab(l,7).ngClassPristine,t.Ab(l,7).ngClassDirty,t.Ab(l,7).ngClassValid,t.Ab(l,7).ngClassInvalid,t.Ab(l,7).ngClassPending),n(l,17,0,l.context.$implicit.itemName),n(l,22,0,l.context.$implicit.unitPrice),n(l,27,0,l.context.$implicit.quantity),n(l,32,0,l.context.$implicit.totalPrice)}))}function A(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,5,"ion-content",[],null,null,null,i.M,i.l)),t.nb(1,49152,null,0,o.u,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,3,"ion-list",[],null,null,null,i.U,i.t)),t.nb(3,49152,null,0,o.O,[t.h,t.k,t.x],null,null),(n()(),t.db(16777216,null,0,1,null,L)),t.nb(5,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,5,0,l.component.displayedBillItemList)}),null)}var R=function(){function n(){var l=this;_classCallCheck(this,n),this.billItemCount=0,this.billPriceBeforeTaxes=0,this.billGst=0,this.billPst=0,this.billLct=0,this.billPriceAfterTaxes=0,this.refresh=function(n){return b.a(l,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.billItemCount=n.filter((function(n){return n.isSelected})).length,this.billPriceBeforeTaxes=this.calculateBillPriceBeforeTaxes(n),this.billGst=this.calculateBillTax(n,"gst"),this.billPst=this.calculateBillTax(n,"pst"),this.billLct=this.calculateBillTax(n,"lct"),this.billPriceAfterTaxes=this.billPriceBeforeTaxes+this.billGst+this.billPst+this.billLct;case 1:case"end":return l.stop()}}),l,this)})))}}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"calculateBillPriceBeforeTaxes",value:function(n){var l=0;return n.forEach((function(n){l+=n.unitPrice*n.quantity})),l}},{key:"calculateBillTax",value:function(n,l){var e=0;return n.forEach((function(n){e+=n.unitPrice*n.menuItem[l+"Rate"]*n.quantity})),e}}]),n}(),P=t.mb({encapsulation:0,styles:[[""]],data:{}});function S(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,9,"ion-card-header",[],null,null,null,i.G,i.g)),t.nb(1,49152,null,0,o.o,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,7,"ion-card-subtitle",[],null,null,null,i.H,i.h)),t.nb(3,49152,null,0,o.p,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,2,"ion-label",[["color","success"]],null,null,null,i.T,i.s)),t.nb(5,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(6,0,["",""])),(n()(),t.ob(7,0,null,0,2,"ion-label",[["style","margin-left: 1em;"]],null,null,null,i.T,i.s)),t.nb(8,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["items selected"])),(n()(),t.ob(10,0,null,null,47,"ion-card-content",[["style","height: calc(100% - 56px);"]],null,null,null,i.F,i.f)),t.nb(11,49152,null,0,o.n,[t.h,t.k,t.x],null,null),(n()(),t.ob(12,0,null,0,45,"ion-grid",[],null,null,null,i.N,i.m)),t.nb(13,49152,null,0,o.A,[t.h,t.k,t.x],null,null),(n()(),t.ob(14,0,null,0,35,"ion-row",[["style","height: 70%"]],null,null,null,i.W,i.v)),t.nb(15,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(16,0,null,0,7,"ion-col",[["size","8"]],null,null,null,i.L,i.k)),t.nb(17,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(18,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1.3em;"]],null,null,null,i.T,i.s)),t.nb(19,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["Price:"])),(n()(),t.ob(21,0,null,0,2,"ion-label",[["color","dark"],["style","font-size: 1.6em;"]],null,null,null,i.T,i.s)),t.nb(22,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(23,0,["$",""])),(n()(),t.ob(24,0,null,0,25,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(25,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(26,0,null,0,7,"ion-row",[],null,null,null,i.W,i.v)),t.nb(27,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(28,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1em;"]],null,null,null,i.T,i.s)),t.nb(29,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["GST:"])),(n()(),t.ob(31,0,null,0,2,"ion-label",[["color","dark"],["style","font-size: 1.2em;"]],null,null,null,i.T,i.s)),t.nb(32,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(33,0,["$",""])),(n()(),t.ob(34,0,null,0,7,"ion-row",[],null,null,null,i.W,i.v)),t.nb(35,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(36,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1em;"]],null,null,null,i.T,i.s)),t.nb(37,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["PST:"])),(n()(),t.ob(39,0,null,0,2,"ion-label",[["color","dark"],["style","font-size: 1.2em;"]],null,null,null,i.T,i.s)),t.nb(40,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(41,0,["$",""])),(n()(),t.ob(42,0,null,0,7,"ion-row",[],null,null,null,i.W,i.v)),t.nb(43,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(44,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1em;"]],null,null,null,i.T,i.s)),t.nb(45,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["LCT:"])),(n()(),t.ob(47,0,null,0,2,"ion-label",[["color","dark"],["style","font-size: 1.2em;"]],null,null,null,i.T,i.s)),t.nb(48,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(49,0,["$",""])),(n()(),t.ob(50,0,null,0,7,"ion-row",[["style","height: 30%"]],null,null,null,i.W,i.v)),t.nb(51,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(52,0,null,0,2,"ion-label",[["style","margin-right: 1em; font-size: 1.4em;"]],null,null,null,i.T,i.s)),t.nb(53,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["Balance:"])),(n()(),t.ob(55,0,null,0,2,"ion-label",[["color","danger"],["style","font-size: 1.8em;"]],null,null,null,i.T,i.s)),t.nb(56,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(57,0,["$",""]))],(function(n,l){n(l,5,0,"success"),n(l,17,0,"8"),n(l,22,0,"dark"),n(l,25,0,"4"),n(l,32,0,"dark"),n(l,40,0,"dark"),n(l,48,0,"dark"),n(l,56,0,"danger")}),(function(n,l){var e=l.component;n(l,6,0,e.billItemCount),n(l,23,0,e.billPriceBeforeTaxes.toFixed(2)),n(l,33,0,e.billGst.toFixed(2)),n(l,41,0,e.billPst.toFixed(2)),n(l,49,0,e.billLct.toFixed(2)),n(l,57,0,e.billPriceAfterTaxes.toFixed(2))}))}var H=function(){var n=function n(){_classCallCheck(this,n),this.status=n.Status.Unavailable,this.gstRate=0,this.pstRate=0,this.lctRate=0,this.imageUrl=""};return n.Status={Available:"Available",Unavailable:"Unavailable"},n}(),D=function(){function n(l,e){_classCallCheck(this,n),this.modalController=l,this.navParams=e,this.categoryList=[],this.menuItemList=[],this.displayedMenuItemList=[],this.selectedMenuItemList=[]}return _createClass(n,[{key:"ngOnInit",value:function(){this.selectedTable=this.navParams.get("selectedTable"),this.refreshBillItemsHandler=this.navParams.get("refreshBillItemsHandler")}},{key:"ionViewDidEnter",value:function(){this.fetchMenuItemList(),this.fetchMenuCategoryList()}},{key:"addMenuItem",value:function(n){var l=this.selectedMenuItemList.find((function(l){return l.id===n.id}));l?l.quantity++:this.selectedMenuItemList.push({name:n.name,id:n.id,quantity:1})}},{key:"removeMenuItem",value:function(n){var l=this.selectedMenuItemList.find((function(l){return l===n}));l.quantity>1?l.quantity--:this.selectedMenuItemList.splice(this.selectedMenuItemList.findIndex((function(l){return l===n})),1)}},{key:"confirm",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.selectedTable){n.next=5;break}return n.next=3,this.fetchBill(this.selectedTable.id);case 3:(l=n.sent)&&(this.selectedMenuItemList.forEach((function(n){return b.a(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/add?billId="+l.id+"&menuItemId="+n.id+"&quantity="+n.quantity+"&groupId=1",{method:"POST",credentials:"include"});case 2:case"end":return e.stop()}}),e)})))})),this.dismiss()),this.refreshBillItemsHandler();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"dismiss",value:function(){this.modalController.dismiss(null,null,"menu-item-picker-modal")}},{key:"fetchMenuItemList",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/menu/item?status="+H.Status.Available);case 2:return l=n.sent,n.next=5,l.json();case 5:this.menuItemList=n.sent;case 6:case"end":return n.stop()}}),n,this)})))}},{key:"fetchMenuCategoryList",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/menu/category");case 2:return l=n.sent,n.next=5,l.json();case 5:this.categoryList=n.sent,this.categoryList&&this.categoryList.length>0&&(this.selectedCategory=this.categoryList[0]);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"fetchBill",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill?tableId="+n+"&status="+I.Status.Open,{method:"GET",credentials:"include"});case 2:return e=l.sent,l.next=5,e.json();case 5:return l.abrupt("return",l.sent[0]);case 6:case"end":return l.stop()}}),l)})))}},{key:"selectedCategory",get:function(){return this._selectedCategory},set:function(n){this._selectedCategory=n,this.displayedMenuItemList=this.menuItemList.filter((function(l){return l.categoryId===n.id}))}}]),n}(),U=function(){function n(l,e,t){_classCallCheck(this,n),this.modalController=l,this.navParams=e,this.alertController=t,this.selectedBillItemPrice=0,this.shouldPay=0,this.tipReceive=0,this.cashAlreadyPay=!1,this.cardAlreadyPay=!1,this.mappedBillItems=[]}return _createClass(n,[{key:"ngOnInit",value:function(){this.selectedTable=this.navParams.get("selectedTable"),this.selectedBillItemIds=this.navParams.get("selectedBillItemIds"),this.currentBill=this.navParams.get("currentBill"),this.refreshBillItemsHandler=this.navParams.get("refreshBillItemsHandler"),this.tableListRefreshHandler=this.navParams.get("tableListRefreshHandler"),this.fetchDiscountHandler=this.navParams.get("fetchDiscountHandler")}},{key:"ionViewDidEnter",value:function(){this.fetchBillItem()}},{key:"fetchBillItem",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,t,u,r,i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l=_createForOfIteratorHelper(this.selectedBillItemIds),n.prev=1,l.s();case 3:if((e=l.n()).done){n.next=26;break}return t=e.value,n.next=7,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item?id="+t+"&hasPaid=False",{method:"GET",credentials:"include"});case 7:return u=n.sent,n.next=10,u.json();case 10:if(!(r=n.sent[0])){n.next=24;break}if(!(r.discountIdList.length>0)){n.next=18;break}return n.next=15,this.fetchDiscountHandler(r.discountIdList);case 15:n.t0=n.sent,n.next=19;break;case 18:n.t0=[];case 19:return i=n.t0,n.next=22,this.fetchMenuItem(r.menuItemId);case 22:o=n.sent,this.mappedBillItems.push({name:o.name,category:o.categoryId,unitPrice:o.unitPrice,quantity:r.quantity,gst:Number(o.gstRate),pst:Number(o.pstRate),lct:Number(o.lctRate),discountList:i});case 24:n.next=3;break;case 26:n.next=31;break;case 28:n.prev=28,n.t1=n.catch(1),l.e(n.t1);case 31:return n.prev=31,l.f(),n.finish(31);case 34:if(!(this.currentBill.discountIdDict&&this.currentBill.discountIdDict[1].length>0)){n.next=40;break}return n.next=37,this.fetchDiscountHandler(this.currentBill.discountIdDict[1]);case 37:n.t2=n.sent,n.next=41;break;case 40:n.t2=[];case 41:return this.currentBillDiscountList=n.t2,n.next=44,this.calculateSelectedBillItemPrice();case 44:this.selectedBillItemPrice=n.sent,this.shouldPay=this.selectedBillItemPrice;case 46:case"end":return n.stop()}}),n,this,[[1,28,31,34]])})))}},{key:"fetchMenuItem",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/menu/item?id="+n);case 2:return e=l.sent,l.next=5,e.json();case 5:return l.abrupt("return",l.sent[0]);case 6:case"end":return l.stop()}}),l)})))}},{key:"calculateSelectedBillItemPrice",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,t,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=0,this.mappedBillItems.forEach((function(n){if(l+=n.unitPrice*n.quantity+n.unitPrice*n.quantity*n.gst+n.unitPrice*n.quantity*n.pst+n.unitPrice*n.quantity*n.lct,n.discountList.length>0){var e,t=_createForOfIteratorHelper(n.discountList);try{for(t.s();!(e=t.n()).done;){var u=e.value;l-="amount"===u.type?u.value:n.unitPrice*n.quantity*u.value}}catch(r){t.e(r)}finally{t.f()}}})),this.currentBillDiscountList){e=_createForOfIteratorHelper(this.currentBillDiscountList);try{for(e.s();!(t=e.n()).done;)u=t.value,l-="amount"===u.type?u.value:l*u.value}catch(r){e.e(r)}finally{e.f()}}return n.abrupt("return",l);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"fetchBill",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill?tableId="+n+"&status=Open",{method:"GET",credentials:"include"});case 2:return e=l.sent,l.next=5,e.json();case 5:return l.abrupt("return",l.sent[0]);case 6:case"end":return l.stop()}}),l)})))}},{key:"confirmPayment",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,t,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.selectedTable){n.next=16;break}return n.next=3,this.fetchBill(this.selectedTable.id);case 3:if(!(l=n.sent)){n.next=16;break}return n.next=7,fetch(localStorage.getItem("serverApiBaseUrl")+"/payment/pay?billId="+l.id+"&cashPayAmount="+this.cashPay+"&cardPayAmount="+this.cardPay+"&changeGiven="+this.changeGiven,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.selectedBillItemIds)});case 7:return e=n.sent,this.refreshBillItemsHandler(),n.next=11,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item?billId="+l.id+"&hasPaid=false",{method:"GET",credentials:"include"});case 11:return t=n.sent,n.next=14,t.json();case 14:u=n.sent,e&&0==Object.keys(u).length&&this.closeTableAlertConfirm(),this.dismiss();case 16:case"end":return n.stop()}}),n,this)})))}},{key:"closeTableAlertConfirm",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:"All items are paid.",message:"<strong>Close this table?<strong>",buttons:[{text:"NOT YET",role:"cancel",cssClass:"secondary"},{text:"YES",handler:function(){return b.a(e,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/table/close?id="+this.selectedTable.id,{method:"PUT",credentials:"include"});case 2:this.tableListRefreshHandler();case 3:case"end":return n.stop()}}),n,this)})))}}]});case 2:return l=n.sent,n.next=5,l.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"dismiss",value:function(){this.modalController.dismiss(null,null,"payment-modal")}},{key:"cashPay",get:function(){return this._cashPay},set:function(n){n>0&&(this.cashAlreadyPay=!0,this._cashPay=n,this.shouldPay=this.cardAlreadyPay?this.selectedBillItemPrice-this.cashPay-this.cardPay:this.selectedBillItemPrice-this.cashPay,this.changeGiven=-this.shouldPay)}},{key:"cardPay",get:function(){return this._cardPay},set:function(n){n>0&&(this.cardAlreadyPay=!0,this._cardPay=n,this.shouldPay=this.cashAlreadyPay?this.selectedBillItemPrice-this.cardPay-this.cashPay:this.selectedBillItemPrice-this.cardPay,this.tipReceive=-this.shouldPay)}},{key:"changeGiven",get:function(){return this._changeGiven},set:function(n){this._changeGiven=n,this.tipReceive=-(+this.changeGiven+this.shouldPay)}}]),n}(),z=function(){function n(l,e){_classCallCheck(this,n),this.modalController=l,this.alertController=e}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"selectAll",value:function(){this.displayedBillItemList.forEach((function(n){return n.isSelected=!0}))}},{key:"clearAll",value:function(){this.displayedBillItemList.forEach((function(n){return n.isSelected=!1}))}},{key:"addItem",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({component:D,cssClass:"large-modal",id:"menu-item-picker-modal",componentProps:{selectedTable:this.selectedTable,refreshBillItemsHandler:this.refreshBillItemsHandler}});case 2:return l=n.sent,n.next=5,l.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"deleteItems",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=this.displayedBillItemList.filter((function(n){return n.isSelected})),n.next=3,this.alertController.create({header:"Delete Items",message:"Are you sure to delete "+l.length+" selected item(s)?",buttons:["Cancel",{text:"Confirm",handler:function(){return b.a(t,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],l.forEach((function(n){e.push(n.billItem.id)})),n.next=4,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:this.refreshBillItemsHandler();case 5:case"end":return n.stop()}}),n,this)})))}}]});case 3:return e=n.sent,n.next=6,e.present();case 6:case"end":return n.stop()}}),n,this)})))}},{key:"combine",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=this.displayedBillItemList.filter((function(n){return n.isSelected})).map((function(n){return n.billItem.id})),n.next=3,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/combine",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 3:this.refreshBillItemsHandler();case 4:case"end":return n.stop()}}),n,this)})))}},{key:"split",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=this.displayedBillItemList.filter((function(n){return n.isSelected})).map((function(n){return n.billItem.id})),n.next=3,this.alertController.create({header:"Split items into",inputs:[{name:"quantity",type:"number",placeholder:"Enter a number to split."}],buttons:["Cancel",{text:"Confirm",handler:function(n){return b.a(t,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.quantity,e.t0=t,!e.t0){e.next=6;break}return e.next=5,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/split?quantity="+t,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 5:this.refreshBillItemsHandler();case 6:case"end":return e.stop()}}),e,this)})))}}]});case 3:return e=n.sent,n.next=6,e.present();case 6:case"end":return n.stop()}}),n,this)})))}},{key:"applyDiscount",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,t,u,r,i,o,s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.fetchDicountList();case 2:if(!(l=n.sent)){n.next=23;break}if(!this.isSelectedDisplayedBillItemListEmpty){n.next=14;break}return e=this.turnListToRadioButton(l),t=this.currentBill.id,n.next=9,this.alertController.create({header:"Add discount to: "+this.selectedTable.name,inputs:e,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:function(n){return b.a(s,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.t0=t,!l.t0){l.next=5;break}return l.next=4,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/discount?id="+t+"&discountId="+n+"&groupId=1",{method:"PUT",credentials:"include"});case 4:l.t0=l.sent;case 5:if(l.t1=l.t0,!l.t1){l.next=8;break}this.refreshBillItemsHandler(),this.messageAlert("Discount successfully applied.");case 8:case"end":return l.stop()}}),l,this)})))}}]});case 9:return u=n.sent,n.next=12,u.present();case 12:n.next=21;break;case 14:return r=this.turnListToRadioButton(l),i=this.displayedBillItemList.filter((function(n){return n.isSelected})).map((function(n){return n.billItem.id})),n.next=18,this.alertController.create({header:"Add discount to "+i.length+(1===i.length?"item.":" items."),inputs:r,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Confirm",handler:function(n){return b.a(s,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/discount?discountId="+n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i),credentials:"include"});case 2:if(l.t0=l.sent,!l.t0){l.next=5;break}this.refreshBillItemsHandler(),this.messageAlert("Discount successfully applied.");case 5:case"end":return l.stop()}}),l,this)})))}}]});case 18:return o=n.sent,n.next=21,o.present();case 21:n.next=24;break;case 23:this.messageAlert("No discounts available now. Please contact the manager.");case 24:case"end":return n.stop()}}),n,this)})))}},{key:"removeDiscount",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e,t,u,r,i,o,s,a,c=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.isSelectedDisplayedBillItemListEmpty){l.next=14;break}if(!(e=this.currentBill)){l.next=12;break}return l.next=5,this.fetchDicountList(e.discountIdDict[n]);case 5:return t=l.sent,u=this.turnListToRadioButton(t),l.next=9,this.alertController.create({header:"Remove discount from: "+this.selectedTable.name,inputs:u,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Remove",handler:function(l){return b.a(c,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.id,!t.t0){t.next=5;break}return t.next=4,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/remove/discount?id="+e.id+"&discountId="+l+"&groupId="+n,{method:"PUT",credentials:"include"});case 4:t.t0=t.sent;case 5:if(t.t1=t.t0,!t.t1){t.next=8;break}this.refreshBillItemsHandler(),this.messageAlert("Discount successfully removed.");case 8:case"end":return t.stop()}}),t,this)})))}}]});case 9:return r=l.sent,l.next=12,r.present();case 12:l.next=28;break;case 14:if(!((i=this.displayedBillItemList.filter((function(n){return n.isSelected})).map((function(n){return n.billItem}))).length>1)){l.next=19;break}this.messageAlert("You can only select one item at a time :("),l.next=28;break;case 19:return l.next=21,this.fetchDicountList(i[0].discountIdList);case 21:return o=l.sent,s=this.turnListToRadioButton(o),l.next=25,this.alertController.create({header:"Remove discount from: "+this.selectedTable.name,inputs:s,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Remove",handler:function(n){return b.a(c,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.t0=i[0].id,!l.t0){l.next=5;break}return l.next=4,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/item/remove/discount?id="+i[0].id+"&discountId="+n,{method:"PUT",credentials:"include"});case 4:l.t0=l.sent;case 5:if(l.t1=l.t0,!l.t1){l.next=8;break}this.refreshBillItemsHandler(),this.messageAlert("Discount successfully removed.");case 8:case"end":return l.stop()}}),l,this)})))}}]});case 25:return a=l.sent,l.next=28,a.present();case 28:case"end":return l.stop()}}),l,this)})))}},{key:"pay",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=this.displayedBillItemList.filter((function(n){return n.isSelected})).map((function(n){return n.billItem.id})),n.next=3,this.modalController.create({component:U,cssClass:"large-modal",id:"payment-modal",componentProps:{selectedBillItemIds:l,selectedTable:this.selectedTable,currentBill:this.currentBill,refreshBillItemsHandler:this.refreshBillItemsHandler,tableListRefreshHandler:this.tableListRefreshHandler,fetchDiscountHandler:this.fetchDicountList}});case 3:return e=n.sent,n.next=6,e.present();case 6:case"end":return n.stop()}}),n,this)})))}},{key:"fetchDicountList",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e,t,u;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!n){l.next=9;break}return l.next=3,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/discount",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return t=l.sent,l.next=6,t.json();case 6:e=l.sent,l.next=15;break;case 9:return l.next=11,fetch(localStorage.getItem("serverApiBaseUrl")+"/bill/discount",{method:"POST",credentials:"include"});case 11:return u=l.sent,l.next=14,u.json();case 14:e=l.sent;case 15:return l.abrupt("return",e);case 16:case"end":return l.stop()}}),l)})))}},{key:"turnListToRadioButton",value:function(n){var l,e=[],t=_createForOfIteratorHelper(n);try{for(t.s();!(l=t.n()).done;){var u=l.value;e.push({name:u.name,type:"radio",label:u.name,value:u.id})}}catch(r){t.e(r)}finally{t.f()}return e}},{key:"messageAlert",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.alertController.create({header:"Alert",message:n,buttons:["OK"]});case 2:return e=l.sent,l.next=5,e.present();case 5:case"end":return l.stop()}}),l,this)})))}},{key:"isSelectedTableUsing",get:function(){return this.selectedTable&&(this.selectedTable.status===d.Status.Using||this.selectedTable.status===d.Status.Togo)}},{key:"isDisplayedBillItemListEmpty",get:function(){return!this.displayedBillItemList||this.displayedBillItemList.length<=0}},{key:"isSelectedDisplayedBillItemListEmpty",get:function(){var n=this.displayedBillItemList.filter((function(n){return n.isSelected}));return!n||n.length<=0}},{key:"isDiscountListEmpty",get:function(){var n=this.displayedBillItemList.filter((function(n){return n.isSelected}));if(n.length>0){if(1==n.length)return n[0].billItem.discountIdList.length<=0}else if(this.currentBill&&this.currentBill.discountIdDict&&"1"in this.currentBill.discountIdDict)return this.currentBill.discountIdDict[1].length<=0;return!0}}]),n}(),_=t.mb({encapsulation:0,styles:[["ion-grid[_ngcontent-%COMP%]{height:100%}ion-row[_ngcontent-%COMP%]{height:16.67%}"]],data:{}});function O(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,70,"ion-grid",[],null,null,null,i.N,i.m)),t.nb(1,49152,null,0,o.A,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,11,"ion-row",[],null,null,null,i.W,i.v)),t.nb(3,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,4,"ion-col",[],null,null,null,i.L,i.k)),t.nb(5,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.selectAll()&&t),t}),i.D,i.c)),t.nb(7,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.Hb(-1,0,["Select All "])),(n()(),t.ob(9,0,null,0,4,"ion-col",[],null,null,null,i.L,i.k)),t.nb(10,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(11,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.clearAll()&&t),t}),i.D,i.c)),t.nb(12,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.Hb(-1,0,["Clear All "])),(n()(),t.ob(14,0,null,0,11,"ion-row",[],null,null,null,i.W,i.v)),t.nb(15,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(16,0,null,0,4,"ion-col",[],null,null,null,i.L,i.k)),t.nb(17,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(18,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addItem()&&t),t}),i.D,i.c)),t.nb(19,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.Hb(-1,0,["Add Item "])),(n()(),t.ob(21,0,null,0,4,"ion-col",[],null,null,null,i.L,i.k)),t.nb(22,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(23,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.deleteItems()&&t),t}),i.D,i.c)),t.nb(24,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.Hb(-1,0,["Delete Items "])),(n()(),t.ob(26,0,null,0,11,"ion-row",[],null,null,null,i.W,i.v)),t.nb(27,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(28,0,null,0,4,"ion-col",[],null,null,null,i.L,i.k)),t.nb(29,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(30,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.combine()&&t),t}),i.D,i.c)),t.nb(31,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.Hb(-1,0,["Combine "])),(n()(),t.ob(33,0,null,0,4,"ion-col",[],null,null,null,i.L,i.k)),t.nb(34,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(35,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.split()&&t),t}),i.D,i.c)),t.nb(36,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.Hb(-1,0,["Split"])),(n()(),t.ob(38,0,null,0,11,"ion-row",[],null,null,null,i.W,i.v)),t.nb(39,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(40,0,null,0,4,"ion-col",[],null,null,null,i.L,i.k)),t.nb(41,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(42,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.applyDiscount()&&t),t}),i.D,i.c)),t.nb(43,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.Hb(-1,0,["+ Discount"])),(n()(),t.ob(45,0,null,0,4,"ion-col",[],null,null,null,i.L,i.k)),t.nb(46,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(47,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.removeDiscount()&&t),t}),i.D,i.c)),t.nb(48,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.Hb(-1,0,["- Discount"])),(n()(),t.ob(50,0,null,0,9,"ion-row",[],null,null,null,i.W,i.v)),t.nb(51,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(52,0,null,0,3,"ion-col",[],null,null,null,i.L,i.k)),t.nb(53,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(54,0,null,0,1,"ion-button",[["class","large-button"],["color","medium"]],null,null,null,i.D,i.c)),t.nb(55,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.ob(56,0,null,0,3,"ion-col",[],null,null,null,i.L,i.k)),t.nb(57,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(58,0,null,0,1,"ion-button",[["class","large-button"],["color","medium"]],null,null,null,i.D,i.c)),t.nb(59,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.ob(60,0,null,0,10,"ion-row",[],null,null,null,i.W,i.v)),t.nb(61,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(62,0,null,0,3,"ion-col",[],null,null,null,i.L,i.k)),t.nb(63,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(64,0,null,0,1,"ion-button",[["class","large-button"],["color","medium"]],null,null,null,i.D,i.c)),t.nb(65,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.ob(66,0,null,0,4,"ion-col",[],null,null,null,i.L,i.k)),t.nb(67,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(68,0,null,0,2,"ion-button",[["class","large-button"],["color","medium"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.pay()&&t),t}),i.D,i.c)),t.nb(69,49152,null,0,o.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t.Hb(-1,0,["Pay"]))],(function(n,l){var e=l.component;n(l,7,0,"medium",!e.isSelectedTableUsing||e.isDisplayedBillItemListEmpty),n(l,12,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty),n(l,19,0,"medium",!e.isSelectedTableUsing),n(l,24,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty),n(l,31,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty),n(l,36,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty),n(l,43,0,"medium",!e.isSelectedTableUsing),n(l,48,0,"medium",!e.isSelectedTableUsing||e.isDiscountListEmpty),n(l,55,0,"medium",!0),n(l,59,0,"medium",!0),n(l,65,0,"medium",!0),n(l,69,0,"medium",!e.isSelectedTableUsing||e.isSelectedDisplayedBillItemListEmpty)}),null)}var E=function(){function n(l){_classCallCheck(this,n),this.navControlor=l,this._accessCode=""}return _createClass(n,[{key:"ionViewDidEnter",value:function(){this.fetchUserAndRole()}},{key:"accessCodeButtonClickHandler",value:function(n){switch(n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":this.accessCode+=n;break;case"clear":this.accessCode="";break;case"delete":this.accessCode=this.accessCode.slice(0,-1)}}},{key:"goToSettingsPage",value:function(){this.navControlor.navigateForward("/settings")}},{key:"login",value:function(n){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/user/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"accessCode",message:n.toString()})});case 2:return l.next=4,this.fetchUserAndRole();case 4:case"end":return l.stop()}}),l,this)})))}},{key:"logout",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/user/logout",{method:"POST",credentials:"include"});case 2:return n.next=4,this.fetchUserAndRole();case 4:case"end":return n.stop()}}),n,this)})))}},{key:"fetchUserAndRole",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.fetchUser();case 2:return n.next=4,this.fetchRole();case 4:case"end":return n.stop()}}),n,this)})))}},{key:"fetchUser",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(localStorage.getItem("serverApiBaseUrl")+"/user/self",{method:"GET",credentials:"include"});case 2:if(200!==(l=n.sent).status){n.next=12;break}return n.prev=4,n.next=7,l.json();case 7:return n.abrupt("return",void(this.user=n.sent));case 10:n.prev=10,n.t0=n.catch(4);case 12:this.user=void 0;case 13:case"end":return n.stop()}}),n,this,[[4,10]])})))}},{key:"fetchRole",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.user){n.next=13;break}return n.next=3,fetch(localStorage.getItem("serverApiBaseUrl")+"/user/role/self",{method:"GET",credentials:"include"});case 3:if(200!==(l=n.sent).status){n.next=13;break}return n.prev=5,n.next=8,l.json();case 8:return n.abrupt("return",void(this.role=n.sent));case 11:n.prev=11,n.t0=n.catch(5);case 13:this.role=void 0;case 14:case"end":return n.stop()}}),n,this,[[5,11]])})))}},{key:"accessCode",get:function(){return this._accessCode},set:function(n){this._accessCode=n,n.length>=6&&(this.login(n),this.accessCode="")}},{key:"user",get:function(){var n=sessionStorage.getItem("user");return n?JSON.parse(n):void 0},set:function(n){n?sessionStorage.setItem("user",JSON.stringify(n)):sessionStorage.removeItem("user")}},{key:"role",get:function(){var n=sessionStorage.getItem("role");return n?JSON.parse(n):void 0},set:function(n){n?sessionStorage.setItem("role",JSON.stringify(n)):sessionStorage.removeItem("role")}}]),n}(),M=t.mb({encapsulation:0,styles:[["ion-card[_ngcontent-%COMP%]{height:100%;margin:0}"]],data:{}});function N(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,3,"ion-button",[["title","Logout"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.logout()&&t),t}),i.D,i.c)),t.nb(1,49152,null,0,o.k,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,1,"ion-icon",[["name","log-out"],["slot","icon-only"]],null,null,null,i.P,i.o)),t.nb(3,49152,null,0,o.C,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(n,l){n(l,3,0,"log-out")}),null)}function F(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,46,"div",[["style","height: 100%;"]],null,null,null,null,null)),(n()(),t.ob(1,0,null,null,45,"ion-grid",[["style","height: 100%;"]],null,null,null,i.N,i.m)),t.nb(2,49152,null,0,o.A,[t.h,t.k,t.x],null,null),(n()(),t.ob(3,0,null,0,43,"ion-row",[["style","height: 100%;"]],null,null,null,i.W,i.v)),t.nb(4,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(5,0,null,0,17,"ion-col",[["size","4"],["style","height: 100%;"]],null,null,null,i.L,i.k)),t.nb(6,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(7,0,null,0,7,"ion-row",[["style","height: 70%;"]],null,null,null,i.W,i.v)),t.nb(8,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(9,0,null,0,5,"ion-col",[["style","height: 100%;"]],null,null,null,i.L,i.k)),t.nb(10,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(11,0,null,0,3,"ion-card",[],null,null,null,i.J,i.e)),t.nb(12,49152,null,0,o.m,[t.h,t.k,t.x],null,null),(n()(),t.ob(13,0,null,0,1,"app-table-list",[],null,[[null,"selectedTableChange"]],(function(n,l,e){var t=!0;return"selectedTableChange"===l&&(t=!1!==(n.component.selectedTable=e)&&t),t}),g,m)),t.nb(14,114688,[["tableListComponenet",4]],0,h,[o.a],{selectedTable:[0,"selectedTable"]},{selectedTableChange:"selectedTableChange"}),(n()(),t.ob(15,0,null,0,7,"ion-row",[["style","height: 30%;"]],null,null,null,i.W,i.v)),t.nb(16,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(17,0,null,0,5,"ion-col",[["style","height: 100%;"]],null,null,null,i.L,i.k)),t.nb(18,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(19,0,null,0,3,"ion-card",[],null,null,null,i.J,i.e)),t.nb(20,49152,null,0,o.m,[t.h,t.k,t.x],null,null),(n()(),t.ob(21,0,null,0,1,"app-table-detail",[],null,null,null,x,k)),t.nb(22,114688,null,0,v,[o.a],{selectedTable:[0,"selectedTable"],tableListRefreshHandler:[1,"tableListRefreshHandler"]},null),(n()(),t.ob(23,0,null,0,17,"ion-col",[["size","5"],["style","height: 100%;"]],null,null,null,i.L,i.k)),t.nb(24,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(25,0,null,0,7,"ion-row",[["style","height: 70%;"]],null,null,null,i.W,i.v)),t.nb(26,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(27,0,null,0,5,"ion-col",[["style","height: 100%;"]],null,null,null,i.L,i.k)),t.nb(28,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(29,0,null,0,3,"ion-card",[],null,null,null,i.J,i.e)),t.nb(30,49152,null,0,o.m,[t.h,t.k,t.x],null,null),(n()(),t.ob(31,0,null,0,1,"app-bill-item-list",[],null,[[null,"currentBillChange"]],(function(n,l,e){var t=!0;return"currentBillChange"===l&&(t=!1!==(n.component.currentBill=e)&&t),t}),A,T)),t.nb(32,114688,[["billItemListComponent",4]],0,C,[],{refreshBillSummaryHandler:[0,"refreshBillSummaryHandler"],currentBill:[1,"currentBill"],selectedTable:[2,"selectedTable"]},{currentBillChange:"currentBillChange"}),(n()(),t.ob(33,0,null,0,7,"ion-row",[["style","height: 30%;"]],null,null,null,i.W,i.v)),t.nb(34,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(35,0,null,0,5,"ion-col",[["style","height: 100%;"]],null,null,null,i.L,i.k)),t.nb(36,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(37,0,null,0,3,"ion-card",[],null,null,null,i.J,i.e)),t.nb(38,49152,null,0,o.m,[t.h,t.k,t.x],null,null),(n()(),t.ob(39,0,null,0,1,"app-bill-summary",[],null,null,null,S,P)),t.nb(40,114688,[["billSummaryComponent",4]],0,R,[],null,null),(n()(),t.ob(41,0,null,0,5,"ion-col",[["size","3"],["style","height: 100%;"]],null,null,null,i.L,i.k)),t.nb(42,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(43,0,null,0,3,"ion-card",[],null,null,null,i.J,i.e)),t.nb(44,49152,null,0,o.m,[t.h,t.k,t.x],null,null),(n()(),t.ob(45,0,null,0,1,"app-operation-buttons",[],null,null,null,O,_)),t.nb(46,114688,null,0,z,[o.Db,o.a],{currentBill:[0,"currentBill"],selectedTable:[1,"selectedTable"],displayedBillItemList:[2,"displayedBillItemList"],refreshBillItemsHandler:[3,"refreshBillItemsHandler"],tableListRefreshHandler:[4,"tableListRefreshHandler"]},null)],(function(n,l){var e=l.component;n(l,6,0,"4"),n(l,14,0,e.selectedTable),n(l,22,0,e.selectedTable,t.Ab(l,14).fetchTableList),n(l,24,0,"5"),n(l,32,0,t.Ab(l,40).refresh,e.currentBill,e.selectedTable),n(l,40,0),n(l,42,0,"3"),n(l,46,0,e.currentBill,e.selectedTable,t.Ab(l,32).displayedBillItemList,t.Ab(l,32).refreshBillItems,t.Ab(l,14).fetchTableList)}),null)}function J(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,4,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(1,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(2,0,null,0,2,"ion-button",[["style","height: 100%; width: 100%; margin: 0;"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.accessCodeButtonClickHandler(n.context.$implicit)&&t),t}),i.D,i.c)),t.nb(3,49152,null,0,o.k,[t.h,t.k,t.x],null,null),(n()(),t.Hb(4,0,[" ",""]))],(function(n,l){n(l,1,0,"4")}),(function(n,l){n(l,4,0,l.context.$implicit)}))}function $(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,25,"div",[],null,null,null,null,null)),(n()(),t.ob(1,0,null,null,24,"ion-grid",[],null,null,null,i.N,i.m)),t.nb(2,49152,null,0,o.A,[t.h,t.k,t.x],null,null),(n()(),t.ob(3,0,null,0,22,"ion-row",[],null,null,null,i.W,i.v)),t.nb(4,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(5,0,null,0,1,"ion-col",[],null,null,null,i.L,i.k)),t.nb(6,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(7,0,null,0,16,"ion-col",[],null,null,null,i.L,i.k)),t.nb(8,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(9,0,null,0,9,"ion-input",[["clearInput","true"],["disabled",""],["inputmode","numeric"],["maxlength","6"],["pattern","[0-9]*"],["placeholder","Access Code"],["style","font-size: 4em;"],["type","password"]],[[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0,r=n.component;return"ionBlur"===l&&(u=!1!==t.Ab(n,13)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,13)._handleInputEvent(e.target)&&u),"ngModelChange"===l&&(u=!1!==(r.accessCode=e)&&u),u}),i.R,i.q)),t.nb(10,540672,null,0,p.b,[],{maxlength:[0,"maxlength"]},null),t.nb(11,540672,null,0,p.h,[],{pattern:[0,"pattern"]},null),t.Eb(1024,null,p.c,(function(n,l){return[n,l]}),[p.b,p.h]),t.nb(13,16384,null,0,o.Kb,[t.k],null,null),t.Eb(1024,null,p.d,(function(n){return[n]}),[o.Kb]),t.nb(15,671744,null,0,p.g,[[8,null],[6,p.c],[8,null],[6,p.d]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(17,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(18,49152,null,0,o.G,[t.h,t.k,t.x],{clearInput:[0,"clearInput"],disabled:[1,"disabled"],inputmode:[2,"inputmode"],maxlength:[3,"maxlength"],pattern:[4,"pattern"],placeholder:[5,"placeholder"],type:[6,"type"]},null),(n()(),t.ob(19,0,null,0,4,"ion-row",[["style","height: 300px;"]],null,null,null,i.W,i.v)),t.nb(20,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.db(16777216,null,0,2,null,J)),t.nb(22,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),t.Bb(23,12),(n()(),t.ob(24,0,null,0,1,"ion-col",[],null,null,null,i.L,i.k)),t.nb(25,49152,null,0,o.t,[t.h,t.k,t.x],null,null)],(function(n,l){var e=l.component;n(l,10,0,"6"),n(l,11,0,"[0-9]*"),n(l,15,0,"",e.accessCode),n(l,18,0,"true","","numeric","6","[0-9]*","Access Code","password");var t=n(l,23,1,["1","2","3","4","5","6","7","8","9","clear","0","delete"]);n(l,22,0,t)}),(function(n,l){n(l,9,0,t.Ab(l,10).maxlength?t.Ab(l,10).maxlength:null,t.Ab(l,11).pattern?t.Ab(l,11).pattern:null,t.Ab(l,17).ngClassUntouched,t.Ab(l,17).ngClassTouched,t.Ab(l,17).ngClassPristine,t.Ab(l,17).ngClassDirty,t.Ab(l,17).ngClassValid,t.Ab(l,17).ngClassInvalid,t.Ab(l,17).ngClassPending)}))}function j(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,14,"ion-header",[],null,null,null,i.O,i.n)),t.nb(1,49152,null,0,o.B,[t.h,t.k,t.x],{translucent:[0,"translucent"]},null),(n()(),t.ob(2,0,null,0,12,"ion-toolbar",[],null,null,null,i.bb,i.A)),t.nb(3,49152,null,0,o.zb,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,2,"ion-title",[],null,null,null,i.ab,i.z)),t.nb(5,49152,null,0,o.xb,[t.h,t.k,t.x],null,null),(n()(),t.Hb(6,0,[" Cashier "," "])),(n()(),t.ob(7,0,null,0,7,"ion-buttons",[["slot","end"]],null,null,null,i.E,i.d)),t.nb(8,49152,null,0,o.l,[t.h,t.k,t.x],null,null),(n()(),t.db(16777216,null,0,1,null,N)),t.nb(10,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null),(n()(),t.ob(11,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.goToSettingsPage()&&t),t}),i.D,i.c)),t.nb(12,49152,null,0,o.k,[t.h,t.k,t.x],null,null),(n()(),t.ob(13,0,null,0,1,"ion-icon",[["name","settings"],["slot","icon-only"]],null,null,null,i.P,i.o)),t.nb(14,49152,null,0,o.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.ob(15,0,null,null,5,"ion-content",[["no-padding",""]],null,null,null,i.M,i.l)),t.nb(16,49152,null,0,o.u,[t.h,t.k,t.x],{fullscreen:[0,"fullscreen"]},null),(n()(),t.db(16777216,null,0,1,null,F)),t.nb(18,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null),(n()(),t.db(16777216,null,0,1,null,$)),t.nb(20,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,1,0,!0),n(l,10,0,e.user&&e.role),n(l,14,0,"settings"),n(l,16,0,!0),n(l,18,0,e.user&&e.role),n(l,20,0,!(e.user&&e.role))}),(function(n,l){var e=l.component;n(l,6,0,e.user?"- Hello, "+e.user.name:"")}))}var q=t.kb("app-home",E,(function(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,1,"app-home",[],null,null,null,j,M)),t.nb(1,49152,null,0,E,[o.Eb],null,null)],null,null)}),{},{},[]),G=t.mb({encapsulation:0,styles:[["#page-wrap[_ngcontent-%COMP%]{--overflow:hidden}ion-grid[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{height:100%}#selected-item-container-card[_ngcontent-%COMP%]{height:calc(100% - 40px);margin:0}ion-list[_ngcontent-%COMP%]{min-height:100%}#menu-item-box[_ngcontent-%COMP%]{height:100px;width:100px;max-width:100px}#menu-item-box[_ngcontent-%COMP%] > ion-card[_ngcontent-%COMP%]{width:100%;height:100%;color:#000;--background:grey}#menu-item-box[_ngcontent-%COMP%] > ion-card[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;background-color:grey}"]],data:{}});function W(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,10,"ion-item",[],null,null,null,i.S,i.r)),t.nb(1,49152,null,0,o.H,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,i.E,i.d)),t.nb(3,49152,null,0,o.l,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.removeMenuItem(n.context.$implicit)&&t),t}),i.D,i.c)),t.nb(5,49152,null,0,o.k,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,1,"ion-icon",[["name","remove"],["slot","icon-only"]],null,null,null,i.P,i.o)),t.nb(7,49152,null,0,o.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.ob(8,0,null,0,2,"ion-label",[],null,null,null,i.T,i.s)),t.nb(9,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(10,0,[""," * ",""]))],(function(n,l){n(l,7,0,"remove")}),(function(n,l){n(l,10,0,l.context.$implicit.name,l.context.$implicit.quantity)}))}function V(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,2,"ion-segment-button",[],null,null,null,i.X,i.x)),t.nb(1,49152,null,0,o.jb,[t.h,t.k,t.x],{value:[0,"value"]},null),(n()(),t.Hb(2,0,[""," "]))],(function(n,l){n(l,1,0,l.context.$implicit)}),(function(n,l){n(l,2,0,l.context.$implicit.name)}))}function K(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,8,"ion-col",[["id","menu-item-box"]],null,null,null,i.L,i.k)),t.nb(1,49152,null,0,o.t,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,6,"ion-card",[["button",""]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addMenuItem(n.context.$implicit)&&t),t}),i.J,i.e)),t.nb(3,49152,null,0,o.m,[t.h,t.k,t.x],{button:[0,"button"]},null),(n()(),t.ob(4,0,null,0,1,"ion-img",[],null,[[null,"ionError"]],(function(n,l,e){var u=!0;return"ionError"===l&&(u=!1!==(t.Ab(n,5).src="https://unpkg.com/ionicons@5.0.0/dist/svg/restaurant-outline.svg")&&u),u}),i.Q,i.p)),t.nb(5,49152,[["menuItemImageElement",4]],0,o.D,[t.h,t.k,t.x],{src:[0,"src"]},null),(n()(),t.ob(6,0,null,0,2,"ion-label",[],null,null,null,i.T,i.s)),t.nb(7,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(8,0,["",""]))],(function(n,l){n(l,3,0,""),n(l,5,0,l.context.$implicit.imageUrl)}),(function(n,l){n(l,8,0,l.context.$implicit.name)}))}function Y(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,12,"ion-header",[],null,null,null,i.O,i.n)),t.nb(1,49152,null,0,o.B,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,10,"ion-toolbar",[],null,null,null,i.bb,i.A)),t.nb(3,49152,null,0,o.zb,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,2,"ion-title",[],null,null,null,i.ab,i.z)),t.nb(5,49152,null,0,o.xb,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,[" Add Items "])),(n()(),t.ob(7,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,i.E,i.d)),t.nb(8,49152,null,0,o.l,[t.h,t.k,t.x],null,null),(n()(),t.ob(9,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.dismiss()&&t),t}),i.D,i.c)),t.nb(10,49152,null,0,o.k,[t.h,t.k,t.x],null,null),(n()(),t.ob(11,0,null,0,1,"ion-icon",[["name","close"],["slot","icon-only"]],null,null,null,i.P,i.o)),t.nb(12,49152,null,0,o.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.ob(13,0,null,null,37,"ion-content",[["id","page-wrap"]],null,null,null,i.M,i.l)),t.nb(14,49152,null,0,o.u,[t.h,t.k,t.x],null,null),(n()(),t.ob(15,0,null,0,35,"ion-grid",[],null,null,null,i.N,i.m)),t.nb(16,49152,null,0,o.A,[t.h,t.k,t.x],null,null),(n()(),t.ob(17,0,null,0,33,"ion-row",[],null,null,null,i.W,i.v)),t.nb(18,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(19,0,null,0,12,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(20,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(21,0,null,0,7,"ion-card",[["id","selected-item-container-card"]],null,null,null,i.J,i.e)),t.nb(22,49152,null,0,o.m,[t.h,t.k,t.x],null,null),(n()(),t.ob(23,0,null,0,5,"ion-content",[],null,null,null,i.M,i.l)),t.nb(24,49152,null,0,o.u,[t.h,t.k,t.x],null,null),(n()(),t.ob(25,0,null,0,3,"ion-list",[],null,null,null,i.U,i.t)),t.nb(26,49152,null,0,o.O,[t.h,t.k,t.x],null,null),(n()(),t.db(16777216,null,0,1,null,W)),t.nb(28,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ob(29,0,null,0,2,"ion-button",[["expand","block"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.confirm()&&t),t}),i.D,i.c)),t.nb(30,49152,null,0,o.k,[t.h,t.k,t.x],{expand:[0,"expand"]},null),(n()(),t.Hb(-1,0,["Confirm"])),(n()(),t.ob(32,0,null,0,18,"ion-col",[["size","8"]],null,null,null,i.L,i.k)),t.nb(33,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(34,0,null,0,8,"ion-segment",[["scrollable",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0,r=n.component;return"ionBlur"===l&&(u=!1!==t.Ab(n,35)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,35)._handleChangeEvent(e.target)&&u),"ngModelChange"===l&&(u=!1!==(r.selectedCategory=e)&&u),u}),i.Y,i.w)),t.nb(35,16384,null,0,o.Jb,[t.k],null,null),t.Eb(1024,null,p.d,(function(n){return[n]}),[o.Jb]),t.nb(37,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(39,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(40,49152,null,0,o.ib,[t.h,t.k,t.x],{scrollable:[0,"scrollable"]},null),(n()(),t.db(16777216,null,0,1,null,V)),t.nb(42,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ob(43,0,null,0,7,"ion-content",[],null,null,null,i.M,i.l)),t.nb(44,49152,null,0,o.u,[t.h,t.k,t.x],null,null),(n()(),t.ob(45,0,null,0,5,"ion-grid",[],null,null,null,i.N,i.m)),t.nb(46,49152,null,0,o.A,[t.h,t.k,t.x],null,null),(n()(),t.ob(47,0,null,0,3,"ion-row",[],null,null,null,i.W,i.v)),t.nb(48,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.db(16777216,null,0,1,null,K)),t.nb(50,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,12,0,"close"),n(l,20,0,"4"),n(l,28,0,e.selectedMenuItemList),n(l,30,0,"block"),n(l,33,0,"8"),n(l,37,0,e.selectedCategory),n(l,40,0,""),n(l,42,0,e.categoryList),n(l,50,0,e.displayedMenuItemList)}),(function(n,l){n(l,34,0,t.Ab(l,39).ngClassUntouched,t.Ab(l,39).ngClassTouched,t.Ab(l,39).ngClassPristine,t.Ab(l,39).ngClassDirty,t.Ab(l,39).ngClassValid,t.Ab(l,39).ngClassInvalid,t.Ab(l,39).ngClassPending)}))}var Z=t.kb("app-menu-item-picker",D,(function(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,1,"app-menu-item-picker",[],null,null,null,Y,G)),t.nb(1,114688,null,0,D,[o.Db,o.Fb],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),Q=t.mb({encapsulation:0,styles:[[""]],data:{}});function X(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,4,"ion-note",[],null,null,null,i.V,i.u)),t.nb(1,49152,null,0,o.V,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,2,"ion-label",[["color","danger"]],null,null,null,i.T,i.s)),t.nb(3,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(4,0,["- ",""]))],(function(n,l){n(l,3,0,"danger")}),(function(n,l){n(l,4,0,l.context.$implicit.name)}))}function nn(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,5,"ion-row",[],null,null,null,i.W,i.v)),t.nb(1,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,3,"ion-list",[],null,null,null,i.U,i.t)),t.nb(3,49152,null,0,o.O,[t.h,t.k,t.x],null,null),(n()(),t.db(16777216,null,0,1,null,X)),t.nb(5,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,5,0,l.parent.context.$implicit.discountList)}),null)}function ln(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,17,"ion-item",[["class","menu-item-box"],["style","width: 100%"]],null,null,null,i.S,i.r)),t.nb(1,49152,null,0,o.H,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,15,"ion-grid",[],null,null,null,i.N,i.m)),t.nb(3,49152,null,0,o.A,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,11,"ion-row",[],null,null,null,i.W,i.v)),t.nb(5,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,4,"ion-col",[["size","8"]],null,null,null,i.L,i.k)),t.nb(7,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(8,0,null,0,2,"ion-label",[["text-wrap",""]],null,null,null,i.T,i.s)),t.nb(9,49152,null,0,o.N,[t.h,t.k,t.x],null,null),(n()(),t.Hb(10,0,[""," *",""])),(n()(),t.ob(11,0,null,0,4,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(12,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(13,0,null,0,2,"ion-label",[["color","medium"],["style","font-size:0.9em;"]],null,null,null,i.T,i.s)),t.nb(14,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(15,0,[" $"," "])),(n()(),t.db(16777216,null,0,1,null,nn)),t.nb(17,16384,null,0,c.i,[t.L,t.I],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,7,0,"8"),n(l,12,0,"4"),n(l,14,0,"medium"),n(l,17,0,(null==l.context.$implicit.discountList?null:l.context.$implicit.discountList.length)>0)}),(function(n,l){n(l,10,0,l.context.$implicit.name,l.context.$implicit.quantity),n(l,15,0,(l.context.$implicit.unitPrice*l.context.$implicit.quantity*(1+l.context.$implicit.pst+l.context.$implicit.gst+l.context.$implicit.lct)).toFixed(2))}))}function en(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,4,"ion-item",[],null,null,null,i.S,i.r)),t.nb(1,49152,null,0,o.H,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,2,"ion-label",[["color","danger"]],null,null,null,i.T,i.s)),t.nb(3,49152,null,0,o.N,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Hb(4,0,["Bill: ",""]))],(function(n,l){n(l,3,0,"danger")}),(function(n,l){n(l,4,0,l.context.$implicit.name)}))}function tn(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,12,"ion-header",[],null,null,null,i.O,i.n)),t.nb(1,49152,null,0,o.B,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,10,"ion-toolbar",[],null,null,null,i.bb,i.A)),t.nb(3,49152,null,0,o.zb,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,2,"ion-title",[],null,null,null,i.ab,i.z)),t.nb(5,49152,null,0,o.xb,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,[" Payment "])),(n()(),t.ob(7,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,i.E,i.d)),t.nb(8,49152,null,0,o.l,[t.h,t.k,t.x],null,null),(n()(),t.ob(9,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.dismiss()&&t),t}),i.D,i.c)),t.nb(10,49152,null,0,o.k,[t.h,t.k,t.x],null,null),(n()(),t.ob(11,0,null,0,1,"ion-icon",[["name","close"],["slot","icon-only"]],null,null,null,i.P,i.o)),t.nb(12,49152,null,0,o.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.ob(13,0,null,null,76,"ion-content",[["id","page-wrap"]],null,null,null,i.M,i.l)),t.nb(14,49152,null,0,o.u,[t.h,t.k,t.x],null,null),(n()(),t.ob(15,0,null,0,74,"ion-row",[["style","height: 100%"]],null,null,null,i.W,i.v)),t.nb(16,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(17,0,null,0,5,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(18,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.db(16777216,null,0,1,null,ln)),t.nb(20,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.db(16777216,null,0,1,null,en)),t.nb(22,278528,null,0,c.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ob(23,0,null,0,66,"ion-col",[["size","8"]],null,null,null,i.L,i.k)),t.nb(24,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(25,0,null,0,8,"ion-item",[],null,null,null,i.S,i.r)),t.nb(26,49152,null,0,o.H,[t.h,t.k,t.x],null,null),(n()(),t.ob(27,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.T,i.s)),t.nb(28,49152,null,0,o.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Hb(-1,0,["Total price: "])),(n()(),t.ob(30,0,null,0,3,"ion-textarea",[["readonly",""]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0;return"ionBlur"===l&&(u=!1!==t.Ab(n,33)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,33)._handleInputEvent(e.target)&&u),u}),i.Z,i.y)),t.Eb(5120,null,p.d,(function(n){return[n]}),[o.Kb]),t.nb(32,49152,null,0,o.vb,[t.h,t.k,t.x],{readonly:[0,"readonly"],value:[1,"value"]},null),t.nb(33,16384,null,0,o.Kb,[t.k],null,null),(n()(),t.ob(34,0,null,0,52,"ion-row",[],null,null,null,i.W,i.v)),t.nb(35,49152,null,0,o.gb,[t.h,t.k,t.x],null,null),(n()(),t.ob(36,0,null,0,13,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(37,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(38,0,null,0,11,"ion-item",[],null,null,null,i.S,i.r)),t.nb(39,49152,null,0,o.H,[t.h,t.k,t.x],null,null),(n()(),t.ob(40,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.T,i.s)),t.nb(41,49152,null,0,o.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Hb(-1,0,["Cash pay: "])),(n()(),t.ob(43,0,null,0,6,"ion-textarea",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0,r=n.component;return"ionBlur"===l&&(u=!1!==t.Ab(n,44)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,44)._handleInputEvent(e.target)&&u),"ngModelChange"===l&&(u=!1!==(r.cashPay=e)&&u),u}),i.Z,i.y)),t.nb(44,16384,null,0,o.Kb,[t.k],null,null),t.Eb(1024,null,p.d,(function(n){return[n]}),[o.Kb]),t.nb(46,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(48,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(49,49152,null,0,o.vb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),(n()(),t.ob(50,0,null,0,13,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(51,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(52,0,null,0,11,"ion-item",[],null,null,null,i.S,i.r)),t.nb(53,49152,null,0,o.H,[t.h,t.k,t.x],null,null),(n()(),t.ob(54,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.T,i.s)),t.nb(55,49152,null,0,o.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Hb(-1,0,["Card pay: "])),(n()(),t.ob(57,0,null,0,6,"ion-textarea",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0,r=n.component;return"ionBlur"===l&&(u=!1!==t.Ab(n,58)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,58)._handleInputEvent(e.target)&&u),"ngModelChange"===l&&(u=!1!==(r.cardPay=e)&&u),u}),i.Z,i.y)),t.nb(58,16384,null,0,o.Kb,[t.k],null,null),t.Eb(1024,null,p.d,(function(n){return[n]}),[o.Kb]),t.nb(60,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(62,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(63,49152,null,0,o.vb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),(n()(),t.ob(64,0,null,0,22,"ion-col",[["size","4"]],null,null,null,i.L,i.k)),t.nb(65,49152,null,0,o.t,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.ob(66,0,null,0,11,"ion-item",[],null,null,null,i.S,i.r)),t.nb(67,49152,null,0,o.H,[t.h,t.k,t.x],null,null),(n()(),t.ob(68,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.T,i.s)),t.nb(69,49152,null,0,o.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Hb(-1,0,["Give change: "])),(n()(),t.ob(71,0,null,0,6,"ion-textarea",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0,r=n.component;return"ionBlur"===l&&(u=!1!==t.Ab(n,72)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,72)._handleInputEvent(e.target)&&u),"ngModelChange"===l&&(u=!1!==(r.changeGiven=e)&&u),u}),i.Z,i.y)),t.nb(72,16384,null,0,o.Kb,[t.k],null,null),t.Eb(1024,null,p.d,(function(n){return[n]}),[o.Kb]),t.nb(74,671744,null,0,p.g,[[8,null],[8,null],[8,null],[6,p.d]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,p.e,null,[p.g]),t.nb(76,16384,null,0,p.f,[[4,p.e]],null,null),t.nb(77,49152,null,0,o.vb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),(n()(),t.ob(78,0,null,0,8,"ion-item",[],null,null,null,i.S,i.r)),t.nb(79,49152,null,0,o.H,[t.h,t.k,t.x],null,null),(n()(),t.ob(80,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.T,i.s)),t.nb(81,49152,null,0,o.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Hb(-1,0,["Tip receive: "])),(n()(),t.ob(83,0,null,0,3,"ion-textarea",[["readonly",""]],null,[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var u=!0;return"ionBlur"===l&&(u=!1!==t.Ab(n,86)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,86)._handleInputEvent(e.target)&&u),u}),i.Z,i.y)),t.Eb(5120,null,p.d,(function(n){return[n]}),[o.Kb]),t.nb(85,49152,null,0,o.vb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"],readonly:[1,"readonly"]},null),t.nb(86,16384,null,0,o.Kb,[t.k],null,null),(n()(),t.ob(87,0,null,0,2,"ion-button",[["id","confirm"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.confirmPayment()&&t),t}),i.D,i.c)),t.nb(88,49152,null,0,o.k,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["Confirm"]))],(function(n,l){var e=l.component;n(l,12,0,"close"),n(l,18,0,"4"),n(l,20,0,e.mappedBillItems),n(l,22,0,e.currentBillDiscountList),n(l,24,0,"8"),n(l,28,0,"floating"),n(l,32,0,"",t.sb(1,"$",e.selectedBillItemPrice.toFixed(2),"")),n(l,37,0,"4"),n(l,41,0,"floating"),n(l,46,0,e.cashPay),n(l,49,0,t.sb(1,"$",e.cashPay,"")),n(l,51,0,"4"),n(l,55,0,"floating"),n(l,60,0,e.cardPay),n(l,63,0,t.sb(1,"$",e.cardPay,"")),n(l,65,0,"4"),n(l,69,0,"floating"),n(l,74,0,e.changeGiven),n(l,77,0,t.sb(1,"$",e.changeGiven,"")),n(l,81,0,"floating"),n(l,85,0,t.sb(1,"$",e.tipReceive.toFixed(2),""),"")}),(function(n,l){n(l,43,0,t.Ab(l,48).ngClassUntouched,t.Ab(l,48).ngClassTouched,t.Ab(l,48).ngClassPristine,t.Ab(l,48).ngClassDirty,t.Ab(l,48).ngClassValid,t.Ab(l,48).ngClassInvalid,t.Ab(l,48).ngClassPending),n(l,57,0,t.Ab(l,62).ngClassUntouched,t.Ab(l,62).ngClassTouched,t.Ab(l,62).ngClassPristine,t.Ab(l,62).ngClassDirty,t.Ab(l,62).ngClassValid,t.Ab(l,62).ngClassInvalid,t.Ab(l,62).ngClassPending),n(l,71,0,t.Ab(l,76).ngClassUntouched,t.Ab(l,76).ngClassTouched,t.Ab(l,76).ngClassPristine,t.Ab(l,76).ngClassDirty,t.Ab(l,76).ngClassValid,t.Ab(l,76).ngClassInvalid,t.Ab(l,76).ngClassPending)}))}var un=t.kb("app-payment",U,(function(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,1,"app-payment",[],null,null,null,tn,Q)),t.nb(1,114688,null,0,U,[o.Db,o.Fb,o.a],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),rn=e("iInd");e.d(l,"HomePageModuleNgFactory",(function(){return on}));var on=t.lb(u,[],(function(n){return t.xb([t.yb(512,t.j,t.W,[[8,[r.a,q,Z,un]],[3,t.j],t.v]),t.yb(4608,c.k,c.j,[t.s,[2,c.r]]),t.yb(4608,p.j,p.j,[]),t.yb(4608,o.b,o.b,[t.x,t.g]),t.yb(4608,o.Db,o.Db,[o.b,t.j,t.p]),t.yb(4608,o.Ib,o.Ib,[o.b,t.j,t.p]),t.yb(1073742336,c.b,c.b,[]),t.yb(1073742336,p.i,p.i,[]),t.yb(1073742336,p.a,p.a,[]),t.yb(1073742336,o.Bb,o.Bb,[]),t.yb(1073742336,rn.n,rn.n,[[2,rn.s],[2,rn.m]]),t.yb(1073742336,u,u,[]),t.yb(1024,rn.k,(function(){return[[{path:"",component:E}]]}),[])])}))}}]);